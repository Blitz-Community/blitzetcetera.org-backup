<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Игра «Жизнь»,Matt Merkulov" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Игра «Жизнь» — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Игра_«Жизнь»";
var wgTitle = "Игра «Жизнь»";
var wgAction = "view";
var wgArticleId = "146";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3550";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Игра_«Жизнь»">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Игра «Жизнь»</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F_.D0.B8.D0.B3.D1.80.D1.8B"><span class="tocnumber">1</span> <span class="toctext">История игры</span></a></li>
<li class="toclevel-1"><a href="#.D0.9F.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D0.B0"><span class="tocnumber">2</span> <span class="toctext">Правила</span></a></li>
<li class="toclevel-1"><a href="#.D0.A3.D1.81.D1.82.D0.BE.D0.B9.D1.87.D0.B8.D0.B2.D1.8B.D0.B5_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">3</span> <span class="toctext">Устойчивые конфигурации</span></a></li>
<li class="toclevel-1"><a href="#.D0.A1.D0.B0.D0.BC.D0.BE.D0.B2.D0.BE.D1.81.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D1.8F.D1.89.D0.B8.D0.B5.D1.81.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">4</span> <span class="toctext">Самовоспроизводящиеся конфигурации</span></a></li>
<li class="toclevel-1"><a href="#.D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D1.89.D0.B0.D1.8E.D1.89.D0.B8.D0.B5.D1.81.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">5</span> <span class="toctext">Перемещающиеся конфигурации</span></a></li>
<li class="toclevel-1"><a href="#.D0.9D.D0.B5.D0.BE.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.87.D0.B5.D0.BD.D0.BD.D0.BE_.D1.80.D0.B0.D1.81.D1.82.D1.83.D1.89.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">6</span> <span class="toctext">Неограниченно растущие конфигурации</span></a></li>
<li class="toclevel-1"><a href="#.D0.94.D0.BE.D0.BB.D0.B3.D0.BE.D0.B6.D0.B8.D0.B2.D1.83.D1.89.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"><span class="tocnumber">7</span> <span class="toctext">Долгоживущие конфигурации</span></a></li>
<li class="toclevel-1"><a href="#.D0.90.D0.B3.D0.B0.D1.80.D1.8B"><span class="tocnumber">8</span> <span class="toctext">Агары</span></a></li>
<li class="toclevel-1"><a href="#.D0.A4.D0.B8.D1.82.D0.B8.D0.BB.D0.B8"><span class="tocnumber">9</span> <span class="toctext">Фитили</span></a></li>
<li class="toclevel-1"><a href="#.D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC.D1.8B"><span class="tocnumber">10</span> <span class="toctext">Алгоритмы</span></a></li>
<li class="toclevel-1"><a href="#.D0.9F.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B0"><span class="tocnumber">11</span> <span class="toctext">Программа</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name=".D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F_.D0.B8.D0.B3.D1.80.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=1" title="Править секцию: История игры">править</a>]</span> <span class="mw-headline">История игры</span></h2>
<div class="floatleft"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-01.jpg" class="image" title="Фото Дж. Х. Конуэя&quot;"><img alt="Фото Дж. Х. Конуэя&quot;" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-01.jpg" src="0-o1bb4p.jpg" width="285" height="326" /></a></span></div>
<p>Большая часть работ Джона Хортона Конуэя относится к области чистой математики, где он сделал несколько важных открытий. Но помимо серьезных исследований, Конуэй увлечен занимательной математикой. В этой области ему принадлежит немало работ, однако публикует он свои результаты чрезвычайно редко. В сентябрьском номере Scientific American за 1966 год была помещена статья Конуэя о "Стеганом одеяле миссис Перкинс", посвященная задачам о разрезании квадрата, а в июле 1967 года на страницах того же журнала появилась топологическая игра "Спрут", которую придумали Конуэй и М. С. Паттерсон. А в 1970 году он придумал увлекательную игру, которую назвал "Жизнь" и которая в одночасье принесла ему мировую известность. Он показал игру своему другу Мартину Гарднеру, который широко известен в России, как автор цикла великолепных книг по занимательной математике, и тот опубликовал ее все в том же Scientific American. Для игры "Жизнь" Вам не понадобится партнер - в нее можно играть одному. Возникающие в процессе игры ситуации очень похожи на реальные процессы, происходящие при зарождении, развитии и гибели колонии живых организмов в природе. Основная идея состоит в том, чтобы, начав с какого-нибудь простого расположения фишек (организмов), расставленных по одной клетке, проследить за эволюцией под действием "генетических законов" Конуэя, которые управляют рождением, гибелью и выживанием клеток. Конуэй тщательно подбирал свои правила и долго проверял их на практике, добиваясь, чтобы они удовлетворяли, по возможности, трем условиям:
</p>
<ul><li>Не должно быть ни одной начальной конфигурации, для которой существовало бы простое доказательство неограниченного роста популяции.
</li><li>В то же время, должны существовать такие начальные конфигурации, которые заведомо обладают возможностью беспредельно развиваться.
</li><li>Должны существовать простые начальные конфигурации, которые в течение значительного промежутка времени растут, претерпевают разнообразные изменения и заканчивают свою эволюцию одним из следующих трех способов: полностью исчезают, переходят в устойчивую конфигурацию и перестают изменяться вообще или же, наконец, выходят на колебательный режим, то есть бесконечный цикл превращений с определенным периодом.
</li></ul>
<p>Короче говоря, правила должны быть такими, чтобы поведение популяции было непредсказуемым.
</p>
<a name=".D0.9F.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=2" title="Править секцию: Правила">править</a>]</span> <span class="mw-headline">Правила</span></h2>
<p>Развитие организма происходит на поле с квадратными ячейками (бесконечном в идеале) наподобие листа тетради в клетку. Каждая ячейка может быть либо пуста, либо заполнена. Изначально дан организм, представляющий собой группу заполненных ячеек, называемых клетками. Каждую ячейку окружают 8 соседних ячеек, имеющих с данной ячейкой общую сторону или вершину. Клетки, расположенные в ячейках, соседних с данной называют соседями этой ячейки.
</p><p>Поколение состоит из трех этапов:
</p>
<ul><li>Если у клетки меньше двух или больше трех соседей, то она помечается, как обреченная на гибель.
</li><li>Если у пустой ячейки ровно три соседа, то она помечается, как рождающая.
</li><li>Все помеченные обреченные клетки гибнут (исчезают с поля), а помеченные пустые ячейки заполняются, рождая клетки.
</li></ul>
<p><br />
Цикл поколений продолжается до достижения одного из событий, описанных выше. Вот пример развития некоторых простейших конфигураций:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-02.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-02.gif" src="y-m5ls84.gif" width="673" height="481" /></a></span></div></div>
<a name=".D0.A3.D1.81.D1.82.D0.BE.D0.B9.D1.87.D0.B8.D0.B2.D1.8B.D0.B5_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=3" title="Править секцию: Устойчивые конфигурации">править</a>]</span> <span class="mw-headline">Устойчивые конфигурации</span></h2>
<p>В конце развития организма часто остаются целые ворохи простейших устойчивых конфигураций. Это конфигурации ,в которых не рождаются и не погибают клетки.
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-03.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-03.gif" src="_413qe_3.gif" width="559" height="63" /></a></span></div></div>
<a name=".D0.A1.D0.B0.D0.BC.D0.BE.D0.B2.D0.BE.D1.81.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D1.8F.D1.89.D0.B8.D0.B5.D1.81.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=4" title="Править секцию: Самовоспроизводящиеся конфигурации">править</a>]</span> <span class="mw-headline">Самовоспроизводящиеся конфигурации</span></h2>
<p>Самовоспроизводящиеся конфигурации - конфигурации, которые через некоторое количество поколений (период) переходят в одну и ту же конфигурацию. Самовоспроизводящиеся конфигурации с периодом 2, как мигалка называют флип - флопами.
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-04.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-04.gif" src="mirwxlxy.gif" width="583" height="111" /></a></span></div></div>
<a name=".D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D1.89.D0.B0.D1.8E.D1.89.D0.B8.D0.B5.D1.81.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=5" title="Править секцию: Перемещающиеся конфигурации">править</a>]</span> <span class="mw-headline">Перемещающиеся конфигурации</span></h2>
<p>Это самовоспроизводящиеся конфигурации, которые за свой период смещаются. Принято говорить, что конфигурация перемещается с 1/t скорости света, где t - период (т.к. максимальная скорость перемещения (скорость шахматного короля) это 1 ячейка по горизонтали / вертикали / диагонали за поколение).
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-05.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-05.gif" src="dfngi9qa.gif" width="463" height="31" /></a></span></div></div>
<p>Более длинным космическим кораблям необходим эскорт из кораблей меньшего размера, иначе на их пути будут возникать различные мелкие фигуры.
</p>
<a name=".D0.9D.D0.B5.D0.BE.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.87.D0.B5.D0.BD.D0.BD.D0.BE_.D1.80.D0.B0.D1.81.D1.82.D1.83.D1.89.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=6" title="Править секцию: Неограниченно растущие конфигурации">править</a>]</span> <span class="mw-headline">Неограниченно растущие конфигурации</span></h2>
<p>Это конфигурации, количество клеток которых неограниченно возрастает в перспективе. Они могут периодически генерировать перемещающиеся конфигурации, как конфигурация "планерное ружье", которая выпускает за 30 поколений один планер. Конфигурации типа "паровоз" перемещаются по полю, оставляя за собой пульсирующий след. Этот след может стабилизироваться, тогда паровоз будет периодически генерировать стабильные конфигурации.
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-06.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-06.gif" src="reu-5svk.gif" width="310" height="200" /></a></span></div></div>
<a name=".D0.94.D0.BE.D0.BB.D0.B3.D0.BE.D0.B6.D0.B8.D0.B2.D1.83.D1.89.D0.B8.D0.B5_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=7" title="Править секцию: Долгоживущие конфигурации">править</a>]</span> <span class="mw-headline">Долгоживущие конфигурации</span></h2>
<p>Конфигурации, относящиеся к долгожителям, размножаются на протяжении более ста
поколений, при этом они имеют довольно маленький размер вначале.
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-07.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-07.gif" src="h-vtyz8h.gif" width="567" height="95" /></a></span></div></div>
<a name=".D0.90.D0.B3.D0.B0.D1.80.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=8" title="Править секцию: Агары">править</a>]</span> <span class="mw-headline">Агары</span></h2>
<p>Агары - это устойчивые однородные области. Эти структуры выглядят непоколебимы-
ми, но стоит лишь правильно поставить внутрь клетку и через несколько поколений
весь агар превратится в пульсирующую массу.
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-08.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-08.gif" src="bwzmd-d_-2.gif" width="223" height="63" /></a></span></div></div>
<a name=".D0.A4.D0.B8.D1.82.D0.B8.D0.BB.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=9" title="Править секцию: Фитили">править</a>]</span> <span class="mw-headline">Фитили</span></h2>
<p>Фитилями называют длинные диагональные линии из клеток. Если создать простой фитиль, то он будет постепенно "гореть", лишаясь за поколение по одной клетке с каждого конца, пока не "выгорит" полностью. "Горение" можно исключить "завязав узел". Если на конце фитиля расположить какую-л конфигурацию, то он может гореть, выделяя исчезающий "дым" или оставляя за собой след из устойчивых конфигураций или вообще оставляя пульсирующую "кашу". Также фитилями можно условно назвать другие продолговатые конфигурации, устойчивые в своем теле.
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-09.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life1-09.gif" src="rkq-qed7.gif" width="631" height="167" /></a></span></div></div>
<a name=".D0.90.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=10" title="Править секцию: Алгоритмы">править</a>]</span> <span class="mw-headline">Алгоритмы</span></h2>
<p>Рассмотрим алгоритмы "Жизни" на ограниченном поле.
</p><p>Самый простой алгоритм реализации "Жизни" на экране компьютера - сканировать все поле, на котором происходит развитие организма. При этом, у каждой ячейки подсчитывается количество соседей. В следующее поколение переходят выжившие клетки (имеющие 2-х или 3-х соседей) и новорожденные (ячейки с ровно 3-мя соседями). Изменения записываются в экранный буфер, а информация считывается с экрана. Затем содержимое буфера копируется на экран и цикл повторяется.
Существенный недостаток этого алгоритма - низкая скорость.
</p><p>Этот алгоритм можно усовершенствовать (и существенно увеличить скорость) за счет обработки только тех ячеек, которые являются соседними с клетками (т.к только на них может произойти рождение)  и самих клеток. Для этого понадобится массив для координат таких ячеек, которые я назвал "интересными", такой же массив для клеток и банк атрибутов для каждой ячейки поля. При обработке клетки, к атрибутам соседних ячеек в банке атрибутов прибавляется по единице (если там раньше был 0, то координаты этой ячейки заносятся в массив "интересных" ячеек). После такой обработки, в банке атрибутов будет содержаться информация о количестве соседей каждой ячейки. Теперь все "интересные" ячейки проверяются на возможность рождения, а клетки - вымирания. Далее, банк и массив ячеек очищаются.
</p><p>Здесь будет рассмотрен более усовершенствованный алгоритм. Поле будет иметь размеры 2<sup>n</sup> x 2<sup>n</sup>. Каждая ячейка будет представлена не двумя координатами, а адресом = X + Y * 2<sup>n</sup>, где X, Y - ее координаты на поле. Создается один массив для "интересных" ячеек и клеток, который будет представлен банком, где каждая ячейка (ее адрес) будет занимать 4 байта (Int) и будет организован так, как было предложено в предыдущей статье. Банк атрибутов, где каждая ячейка будет занимать 1 байт, будет хранить не только количество соседей (4 бит - 0..8), но и заполненность ячейки (1 бит - 0, 1), а также атрибут смены  (1 бит - 0, 1) и атрибут занесенности в список - см. ниже. При рождении клетки (заполнении пустой ячейки), ее адрес вместе с адресами всех соседними ячеек заносятся в банк "интересных" ячеек (если они уже не внесены - атрибут  занесенности в таком случае равен 1), атрибуты соседних ячеек увеличиваются на 1, а клетки - на 16 (или OR 16) - заполненность. Также, атрибут внесенности в список изменяется на 1. На экране клетка отображается белым пикселом. При смерти клетки (очищении заполненной ячейки), наоборот - атрибуты соседних клеток уменьшаются на 1, клетки - на 16 и все эти ячейки удаляются из банка, если атрибут стал равным 0. При этом, пиксел ячейки закрашивается черным.
В цикле поколения сначала все ячейки проверяются на смену состояния заполненности. То есть, пустые ячейки, имеющие 3 соседа (атрибут = 3) становятся заполненными, а заполненные, имеющие 0, 1, 4, 5, 6, 7, 8 соседей (атрибуты 16, 17, 20, 21, 22, 23, 24) - пустыми. В таком случае, у них становится равным единице атрибут смены (OR 32). Затем снова проверяются все ячейки, но на этот раз - на атрибут смены. Если он присутствует, то клетка и соседние ячейки соотв. образом обрабатываются и атрибут снимается. Далее, все повторяется.
Эти усовершеснтвования ускоряют работу за счет общей оптимизации и того, что на обработку устойчивых конфигураций уходит минимум проверок и изменений.
Еще некоторые особенности: поле зациклено (использование адресации вместо координат, где адрес подвергается зацикливанию с помощью команды "AND" (см. статья про формулы логики), приводит к тому, что клетка, вышедшая за границу поля, появляется с другой стороны), "сменяемые" атрибуты для увеличения скорости занесены в массив (элементы, имеющие соотв. индексы равны единице, остальные - нулю), также создан массив для адресов соседних ячеек, относительно данной (приращения).
</p>
<a name=".D0.9F.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=11" title="Править секцию: Программа">править</a>]</span> <span class="mw-headline">Программа</span></h2>
<p>На экран выводится эволюция прямоугольника, случайно заполненного клетками:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><br />
<span style="color: #ffee00">;Задаваемые константы: xres,yres - разрешение экрана, xrect, yrect -</span><br />
<span style="color: #ffee00">; - размеры прямоугольника, заполняемого клетками в случайном порядке,</span><br />
<span style="color: #ffee00">; cell - плотность клеток внутри этого прямоугольника(%), fsiz - параметр,</span><br />
<span style="color: #ffee00">; влияющий на размер поля. Размер - (2^fsiz)x(2^fsiz)</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Const</span> xres=<span style="color: #33ffdd;">800</span>,yres=<span style="color: #33ffdd;">600</span>,xrect=<span style="color: #33ffdd;">600</span>,yrect=<span style="color: #33ffdd;">400</span>,cell=<span style="color: #33ffdd;">30</span>,fsiz=<span style="color: #33ffdd;">10</span><br />
<br />
<span style="color: #ffee00">;Вычисляемые константы: fsiz0 - ширина поля, fsiz1 - граница индекса</span><br />
<span style="color: #ffee00">; координаты (X,Y=0..fsiz1), fsiz2 - размер буфера под поле (fsiz0*fsiz),</span><br />
<span style="color: #ffee00">; fsiz3 - граница адреса ячейки в буфере (X+Y*fsiz0=0..fsiz3),</span><br />
<span style="color: #ffee00">; xc,yc - сдвиг экрана по отношению к полю (если показывается часть поля),</span><br />
<span style="color: #ffee00">; x1,y1,x2,y2 - координаты углов заполняемого клетками прямоугольника</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Const</span> fsiz0=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">Shl</span> fsiz,fsiz1=fsiz0<span style="color: #33ffdd;">-1</span>,fsiz2=<span style=" ">&#40;</span>fsiz0 <span style="color: #aaffff; font-weight: bold;">Shl</span> fsiz<span style=" ">&#41;</span>,fsiz3=fsiz2<span style="color: #33ffdd;">-1</span><br />
<span style="color: #aaffff; font-weight: bold;">Const</span> xc=<span style=" ">&#40;</span>fsiz0-xres<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span>,yc=<span style=" ">&#40;</span>fsiz0-yres<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span><br />
<span style="color: #aaffff; font-weight: bold;">Const</span> x1=<span style=" ">&#40;</span>xres-xrect<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span>,x2=<span style=" ">&#40;</span><span style=" ">&#40;</span>xres+xrect<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><span style="color: #33ffdd;">-1</span><br />
<span style="color: #aaffff; font-weight: bold;">Const</span> y1=<span style=" ">&#40;</span>yres-yrect<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span>,y2=<span style=" ">&#40;</span><span style=" ">&#40;</span>yres+yrect<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><span style="color: #33ffdd;">-1</span><br />
<br />
<span style="color: #ffee00">;Переменные, используемые как в программе, так и в процедуре.</span><br />
<span style="color: #aaffff; font-weight: bold;">Global</span> ib, bnk, dbnk, dend<br />
<br />
<span style="color: #aaffff; font-weight: bold;">Graphics</span> xres,yres,<span style="color: #33ffdd;">32</span><br />
<br />
<span style="color: #ffee00">;Скрытый экранный буфер</span><br />
buf=<span style="color: #aaffff; font-weight: bold;">CreateImage</span><span style=" ">&#40;</span>xres,yres<span style=" ">&#41;</span><br />
ib=<span style="color: #aaffff; font-weight: bold;">ImageBuffer</span><span style=" ">&#40;</span>buf<span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">LockBuffer</span> ib<br />
<br />
<span style="color: #ffee00">;Банк под атрибуты ячеек</span><br />
bnk=<span style="color: #aaffff; font-weight: bold;">CreateBank</span><span style=" ">&#40;</span>fsiz2<span style=" ">&#41;</span><br />
<span style="color: #ffee00">;Банк под координаты клеток</span><br />
dbnk=<span style="color: #aaffff; font-weight: bold;">CreateBank</span><span style=" ">&#40;</span>fsiz2 <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">;Заполнение массива сдвига адреса ячейки для определения соседей</span><br />
<span style="color: #aaffff; font-weight: bold;">Dim</span> neig<span style=" ">&#40;</span><span style="color: #33ffdd;">8</span><span style=" ">&#41;</span><br />
k=-fsiz0<span style="color: #33ffdd;">-1</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">7</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> n=<span style="color: #33ffdd;">3</span> <span style="color: #aaffff; font-weight: bold;">Then</span> k=<span style="color: #33ffdd;">-1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> n=<span style="color: #33ffdd;">5</span> <span style="color: #aaffff; font-weight: bold;">Then</span> k=fsiz0<span style="color: #33ffdd;">-1</span><br />
&nbsp;neig<span style=" ">&#40;</span>n<span style=" ">&#41;</span>=k<br />
&nbsp;k=k<span style="color: #33ffdd;">+1</span>+<span style=" ">&#40;</span>n=<span style="color: #33ffdd;">3</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
<span style="color: #ffee00">;Заполнение массива правил</span><br />
<span style="color: #aaffff; font-weight: bold;">Dim</span> change<span style=" ">&#40;</span><span style="color: #33ffdd;">24</span><span style=" ">&#41;</span><br />
change<span style=" ">&#40;</span><span style="color: #33ffdd;">3</span><span style=" ">&#41;</span>=<span style="color: #33ffdd;">1</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">16</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">24</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> n&lt;&gt;<span style="color: #33ffdd;">18</span> <span style="color: #aaffff; font-weight: bold;">And</span> n&lt;&gt;<span style="color: #33ffdd;">19</span> <span style="color: #aaffff; font-weight: bold;">Then</span> change<span style=" ">&#40;</span>n<span style=" ">&#41;</span>=<span style="color: #33ffdd;">1</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
<span style="color: #ffee00">;Граница банка под &quot;интересные&quot; ячейки</span><br />
dend=<span style="color: #33ffdd;">-4</span><br />
<span style="color: #ffee00">;Заполнение клетками прямоугольника</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> x=x1 <span style="color: #aaffff; font-weight: bold;">To</span> x2<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> y=y1 <span style="color: #aaffff; font-weight: bold;">To</span> y2<br />
&nbsp; <span style="color: #ffee00">;Случайный выбор: поставить ли клетку в данном месте?</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">99</span><span style=" ">&#41;</span>&lt;cell <span style="color: #aaffff; font-weight: bold;">Then</span> putcell x,y<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Отображение буфера на экран</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">UnlockBuffer</span> ib<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> buf,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Подсчет количества поколений в секунду, вывод их и кол-во &quot;интересных&quot;</span><br />
&nbsp;<span style="color: #ffee00">; ячеек на экран </span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">50</span>,<span style="color: #33ffdd;">10</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">1000.0</span>/<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span>-fps<span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">8</span>,dend <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">2</span><br />
&nbsp;fps=<span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">LockBuffer</span> ib<br />
<br />
&nbsp;<span style="color: #ffee00">;Цикл по всем &quot;интересным&quot; ячейкам</span><br />
&nbsp;n=<span style="color: #33ffdd;">0</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">While</span> n&lt;=dend<br />
&nbsp; <span style="color: #ffee00">;Определение адреса ячейки и ее атрибутов</span><br />
&nbsp; pos=<span style="color: #aaffff; font-weight: bold;">PeekInt</span><span style=" ">&#40;</span>dbnk,n<span style=" ">&#41;</span><br />
&nbsp; k=<span style="color: #aaffff; font-weight: bold;">PeekByte</span><span style=" ">&#40;</span>bnk,pos<span style=" ">&#41;</span><br />
&nbsp; <span style="color: #ffee00">;Если она подвержена изменением (должна заполниться или очиститься) -</span><br />
&nbsp; <span style="color: #ffee00">; включается атрибут изменения</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> change<span style=" ">&#40;</span>k <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">31</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,pos,k <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #33ffdd;">32</span><br />
&nbsp; <span style="color: #ffee00">;Если пустая ячейка имеет 0 соседей - она удаляется из списка</span><br />
&nbsp; <span style="color: #ffee00">; и очищается от атрибута занесенности</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> <span style=" ">&#40;</span>k <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">31</span><span style=" ">&#41;</span>=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">PokeInt</span> dbnk,n,<span style="color: #aaffff; font-weight: bold;">PeekInt</span><span style=" ">&#40;</span>dbnk,dend<span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,pos,<span style="color: #33ffdd;">0</span><br />
&nbsp; &nbsp;dend=dend<span style="color: #33ffdd;">-4</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Else</span><br />
&nbsp; &nbsp;n=n<span style="color: #33ffdd;">+4</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Wend</span><br />
<br />
&nbsp;n=<span style="color: #33ffdd;">0</span><br />
&nbsp;<span style="color: #ffee00">;Дополнительная переменная, чтобы не проверять новорожденные клетки</span><br />
&nbsp;dend2=dend<br />
&nbsp;<span style="color: #ffee00">;Второй цикл по всем &quot;интересным&quot; ячейкам</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">While</span> n&lt;=dend2<br />
&nbsp; <span style="color: #ffee00">;Определение адреса ячейки и ее атрибутов</span><br />
&nbsp; pos=<span style="color: #aaffff; font-weight: bold;">PeekInt</span><span style=" ">&#40;</span>dbnk,n<span style=" ">&#41;</span><br />
&nbsp; k=<span style="color: #aaffff; font-weight: bold;">PeekByte</span><span style=" ">&#40;</span>bnk,pos<span style=" ">&#41;</span><br />
<br />
&nbsp; <span style="color: #ffee00">;Проверка на атрибут изменения</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> k <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">32</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Определение атрибута заполненности</span><br />
&nbsp; &nbsp;v=<span style=" ">&#40;</span>k <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">4</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Определение координат ячейки</span><br />
&nbsp; &nbsp;x=<span style=" ">&#40;</span>pos <span style="color: #aaffff; font-weight: bold;">And</span> fsiz1<span style=" ">&#41;</span>-xc<br />
&nbsp; &nbsp;y=<span style=" ">&#40;</span>pos <span style="color: #aaffff; font-weight: bold;">Shr</span> fsiz<span style=" ">&#41;</span>-yc<br />
&nbsp; &nbsp;<span style="color: #ffee00">;Смена изображения ячейки: если она была заполнена - очистить (цвет 0 -</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">; черный), иначе - заполнить (цвет -1 - белый)</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> x&gt;=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">And</span> x&lt;xres <span style="color: #aaffff; font-weight: bold;">And</span> y&gt;=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">And</span> y&lt;yres <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">WritePixelFast</span> x,y,v<span style="color: #33ffdd;">-1</span>,ib<br />
&nbsp; &nbsp;<span style="color: #ffee00">;Вычисление приращения атрибута кол-ва соседей для соседей ячейки:</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">; если ячейка заполнилась, то +1, очистилась - -1</span><br />
&nbsp; &nbsp;v=<span style="color: #33ffdd;">1</span>-<span style=" ">&#40;</span>v <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Цикл по всем соседям</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> nn=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">7</span><br />
&nbsp; &nbsp; <span style="color: #ffee00">;Определение адреса соседней ячейки и ее атрибутов</span><br />
&nbsp; &nbsp; addr=<span style=" ">&#40;</span>neig<span style=" ">&#40;</span>nn<span style=" ">&#41;</span>+pos<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> fsiz3<br />
&nbsp; &nbsp; p=<span style="color: #aaffff; font-weight: bold;">PeekByte</span><span style=" ">&#40;</span>bnk,addr<span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #ffee00">;Если прибавляется атрибут кол-ва соседей у ячейки, у которой атрибут</span><br />
&nbsp; &nbsp; <span style="color: #ffee00">; занесенности равен 0 - заносим ее в банк &quot;интересных&quot; и</span><br />
&nbsp; &nbsp; <span style="color: #ffee00">; устанавливаем значение этого атрибута равным 1</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> p=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp; &nbsp;dend=dend<span style="color: #33ffdd;">+4</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">PokeInt</span> dbnk,dend,addr<br />
&nbsp; &nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,addr,<span style="color: #33ffdd;">65</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Else</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #ffee00">;Иначе - только изменение атрибута кол-ва соседей</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,addr,p+v<br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Смена атрибута заполнения и атрибута изменения (48=16+32)</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,pos,k <span style="color: #aaffff; font-weight: bold;">Xor</span> <span style="color: #33ffdd;">48</span> &nbsp; <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span> &nbsp;<br />
&nbsp; n=n<span style="color: #33ffdd;">+4</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Wend</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Если нажата клавиша &quot;Esc&quot; - выходим</span><br />
<span style="color: #aaffff; font-weight: bold;">Until</span> <span style="color: #aaffff; font-weight: bold;">KeyHit</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">;Функция, заполняющая ячейку с координатами (x,y) и производящая</span><br />
<span style="color: #ffee00">; дополнительные действия.</span><br />
<span style="color: #aaffff; font-weight: bold;">Function</span> putcell<span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">;Вычисление адреса клетки (в соответствии с сдвигом экрана отн. поля)</span><br />
pos=x+xc+<span style=" ">&#40;</span><span style=" ">&#40;</span>y+yc<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shl</span> fsiz<span style=" ">&#41;</span><br />
<span style="color: #ffee00">;Занесение в банк соседей и клетки</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> nn=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">8</span><br />
&nbsp;<span style="color: #ffee00">;Определение адреса ячейки (команда AND зацикливает поле, сохраняя</span><br />
&nbsp;<span style="color: #ffee00">; адрес в пределах 0..fsiz3)</span><br />
&nbsp;addr=<span style=" ">&#40;</span>neig<span style=" ">&#40;</span>nn<span style=" ">&#41;</span>+pos<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> fsiz3<br />
&nbsp;p=<span style="color: #aaffff; font-weight: bold;">PeekByte</span><span style=" ">&#40;</span>bnk,addr<span style=" ">&#41;</span><br />
&nbsp;<span style="color: #ffee00">;Увеличение атрибута кол-ва соседей ячейки на 1. Если атрибут заполненности</span><br />
&nbsp;<span style="color: #ffee00">; равен 0, значит ячейка не занесена в банк &quot;интересных&quot;, поэтому заносим.</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> p=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; <span style="color: #ffee00">;Каждый адрес занимает в банке 4 байта</span><br />
&nbsp; dend=dend<span style="color: #33ffdd;">+4</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">PokeInt</span> dbnk,dend,addr<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,addr,<span style="color: #33ffdd;">65</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Else</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,addr,p<span style="color: #33ffdd;">+1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #ffee00">;Заносим в банк атрибутов на адрес ячейки атрибут &quot;заполненности&quot;</span><br />
<span style="color: #ffee00">; минус 1 (так как в предыдущем цикле был добавлен атрибут &quot;кол-ва</span><br />
<span style="color: #ffee00">; соседей&quot;)</span><br />
<span style="color: #aaffff; font-weight: bold;">PokeByte</span> bnk,pos,<span style="color: #aaffff; font-weight: bold;">PeekByte</span><span style=" ">&#40;</span>bnk,pos<span style=" ">&#41;</span> + <span style="color: #33ffdd;">15</span><br />
<span style="color: #ffee00">;Отображение клетки в экранном буфере</span><br />
<span style="color: #aaffff; font-weight: bold;">WritePixel</span> x,y,<span style="color: #33ffdd;">-1</span>,ib<br />
</p>
<span style="color: #aaffff; font-weight: bold;">End Function</span></div>
<p>Материалы для статьи взяты из книги Мартина Гарднера "Крестики-нолики".
</p>
<div align="right"><a href="http://blitzetcetera.org/images/3/3d/Life.bb" class="internal" title="Life.bb">скачать исходный код</a></div>
<hr />
<p>Автор: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:Matt_Merkulov" title="Участник:Matt Merkulov">Матвей Меркулов</a> (E-mail: MattMerk@mail.ru, ICQ: 392-274-050)
</p><!-- 
Pre-expand include size: 7778 bytes
Post-expand include size: 343 bytes
Template argument size: 14 bytes
Maximum: 2097152 bytes
-->

<!-- Saved in parser cache with key db1:pcache:idhash:146-0!1!0!!ru!2 and timestamp 20071110033058 -->
<div class="printfooter">
Получено с <a href="l40v9dqc.html">http://blitzetcetera.org/index.php/%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%98%D0%B3%D1%80%D0%B0_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>