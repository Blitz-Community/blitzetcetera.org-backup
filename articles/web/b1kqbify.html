<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82 by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Виртуальный художник: цвет,Matt Merkulov" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Виртуальный художник: цвет — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Виртуальный_художник:_цвет";
var wgTitle = "Виртуальный художник: цвет";
var wgAction = "view";
var wgArticleId = "147";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3573";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Виртуальный_художник_цвет">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Виртуальный художник: цвет</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1"><a href="#.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BA.D0.B0.D0.BD.D0.B0.D0.BB.D0.B0"><span class="tocnumber">2</span> <span class="toctext">Трансформация канала</span></a></li>
<li class="toclevel-1"><a href="#.D0.9C.D0.BE.D0.BD.D0.BE.D1.85.D1.80.D0.BE.D0.BC.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">3</span> <span class="toctext">Монохромизация</span></a></li>
<li class="toclevel-1"><a href="#.D0.9B.D0.B8.D0.BD.D0.B5.D0.B9.D0.BD.D0.B0.D1.8F_.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">4</span> <span class="toctext">Линейная трансформация</span></a></li>
<li class="toclevel-1"><a href="#.D0.97.D0.B0.D0.BC.D0.B5.D0.BD.D0.B0_.D1.86.D0.B2.D0.B5.D1.82.D0.B0"><span class="tocnumber">5</span> <span class="toctext">Замена цвета</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82&amp;action=edit&amp;section=1" title="Править секцию: Введение">править</a>]</span> <span class="mw-headline">Введение</span></h2>
<p>Этот цикл статей посвящен программной трансформации изображений. В первой статье будем работать с цветом. В BlitzBasic цвет задается тремя составляющими: красной, зеленой и синей. Чтобы создать цвет, необходимо задать интенсивность каждой составляющей в диапазоне от 0 до 255. Эти составляющие, смешиваясь, дают цвет. Если, скажем, интенсивность красной составляющей в несколько раз превосходит интенсивности двух оставшихся, то полученный цвет будет очень похож на красный. Большую роль играет также среднее между значениями интенсивности: чем оно ближе к 255, тем ярче цвет (ближе к белому), чем ближе к 0, тем цвет темнее (ближе к черному). Вот примеры: (0,0,255) - чистый синий, (255,255,0) - желтый, (0,0,0) - черный, (128,128,128) - серый, (255,255,255) - белый.
</p><p>Манипуляции с цветом заключаются в том, что каждый пиксел рисунка окрашивается в цвет, вычисляемый на основе первоначального цвета. Пути вычисления могут быть довольно разнообразными. В памяти, 32-битный цвет разлагается на значения интенсивностей следующим образом:
</p>
<table border="2" align="center">

<tr align="center">
<td align="right"> Номер байта:
</td><td> 4
</td><td> 3
</td><td> 2
</td><td> 1
</td></tr>
<tr align="center">
<td align="right"> Двоичное представление числа:
</td><td> 11111111
</td><td> 00000000
</td><td> 00000000
</td><td> 00000000
</td></tr>
<tr align="center">
<td align="right"> Значения интенсивности:
</td><td> красного
</td><td> зеленого
</td><td> синего
</td></tr></table>
<p>Программное разложение на составляющие цвета пиксела с координатами (x,y):
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;">p = <span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
<p>r = <span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
g = <span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
</p>
b = p <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span></div>
<p>Примеры этой статьи используют изображение размером 640х480 пикселей:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:182px;"><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Painter1.jpg" class="internal" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Painter1.jpg" class="thumbimage" src="klgfvbp2.jpg" width="180" height="135" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Painter1.jpg" class="internal" title="Увеличить"><img src="gau13a4-.png" width="15" height="11" alt="" /></a></div></div></div></div></div>
<a name=".D0.A2.D1.80.D0.B0.D0.BD.D1.81.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F_.D0.BA.D0.B0.D0.BD.D0.B0.D0.BB.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82&amp;action=edit&amp;section=2" title="Править секцию: Трансформация канала">править</a>]</span> <span class="mw-headline">Трансформация канала</span></h2>
<p>Рассмотрим простейший вариант: трансформация каждого канала (то есть карты интенсивностей одной из составляющих цвета) в отдельности. Самый наглядный способ ее задания - это построить график, где по оси X будут располагаться значения исходной интенсивности, по Y - конечной. Обе оси ограничены диапазоном (0,255). Чтобы найти конечную интенсивность, пользуясь графиком, нужно провести перпендикуляр в точке на оси X, соответствующей исходной интенсивности и посмотреть, на какой высоте он пересекается с графиком. Вот графики эффектов такого типа:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Painter1-01.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Painter1-01.gif" src="enn0gi2r.gif" width="680" height="408" /></a></span></div></div>
<p>Но на практике, естественно, придется задавать трансформацию формулой или куском программы. Математически эту трансформацию можно представить так:
</p>
<ul><li>r' = f<sub>r</sub>(r)
</li><li>g' = f<sub>g</sub>(g)
</li><li>b' = f<sub>b</sub>(b)
</li></ul>
<p><br />
Программа:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">Const</span> k#=<span style="color: #33ffdd;">180.0</span>/<span style="color: #33ffdd;">255</span>,k2#=<span style="color: #33ffdd;">360.0</span>/<span style="color: #33ffdd;">255</span>,fx=<span style="color: #33ffdd;">1</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Dim</span> col<span style=" ">&#40;</span><span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span>,<span style="color: #33ffdd;">32</span><br />
<br />
i=<span style="color: #aaffff; font-weight: bold;">LoadImage</span><span style=" ">&#40;</span><span style="color: #00ff66;">&quot;image1.jpg&quot;</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> i,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">479</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">639</span><br />
&nbsp; p=<span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">2</span><br />
&nbsp; &nbsp;c=p <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; &nbsp;p=p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">8</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">Select</span> fx<br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">1</span><span style="color: #ffee00">;негатив</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">255</span>-c<br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">2</span><span style="color: #ffee00">;затемнение</span><br />
&nbsp; &nbsp; &nbsp;c=c <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">3</span><span style="color: #ffee00">;осветление</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">128</span>+<span style=" ">&#40;</span>c <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">4</span><span style="color: #ffee00">;порог</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">255</span>*<span style=" ">&#40;</span>c&gt;=<span style="color: #33ffdd;">128</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">5</span><span style="color: #ffee00">;уменьшение насыщенности</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">64</span>+<span style=" ">&#40;</span>c <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">6</span><span style="color: #ffee00">;увеличение насыщенности</span><br />
&nbsp; &nbsp; &nbsp;c=c <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">1</span><span style="color: #33ffdd;">-128</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> c&lt;<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> c=<span style="color: #33ffdd;">0</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> c&gt;<span style="color: #33ffdd;">255</span> <span style="color: #aaffff; font-weight: bold;">Then</span> c=<span style="color: #33ffdd;">255</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">7</span><span style="color: #ffee00">;квадратичное затемнение</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">255</span>-<span style="color: #aaffff; font-weight: bold;">Sqr</span><span style=" ">&#40;</span><span style="color: #33ffdd;">255</span>*<span style="color: #33ffdd;">255</span>-c*c<span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">8</span><span style="color: #ffee00">;квадратичное осветление</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">255</span>-c<br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #aaffff; font-weight: bold;">Sqr</span><span style=" ">&#40;</span><span style="color: #33ffdd;">255</span>*<span style="color: #33ffdd;">255</span>-c*c<span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">9</span><span style="color: #ffee00">;уменьшение количества цветов</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>c/<span style="color: #33ffdd;">51</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">51</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">10</span><span style="color: #ffee00">;Пила</span><br />
&nbsp; &nbsp; &nbsp;c=<span style=" ">&#40;</span>c <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">6</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">4</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">11</span><span style="color: #ffee00">;Зубья</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> c <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">64</span> <span style="color: #aaffff; font-weight: bold;">Then</span> c=<span style="color: #33ffdd;">255</span>-<span style=" ">&#40;</span>c <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">63</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">4</span> <span style="color: #aaffff; font-weight: bold;">Else</span> c=<span style=" ">&#40;</span>c <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">63</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">4</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">12</span><span style="color: #ffee00">;Впадина</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">255</span>*<span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>-<span style="color: #aaffff; font-weight: bold;">Sin</span><span style=" ">&#40;</span>c*k#<span style=" ">&#41;</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">13</span><span style="color: #ffee00">;Выступ</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #33ffdd;">255</span>*<span style="color: #aaffff; font-weight: bold;">Sin</span><span style=" ">&#40;</span>c*k#<span style=" ">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">14</span><span style="color: #ffee00">;Изгиб</span><br />
&nbsp; &nbsp; &nbsp;c=<span style="color: #aaffff; font-weight: bold;">Sin</span><span style=" ">&#40;</span>c*k2#<span style=" ">&#41;</span>*<span style="color: #33ffdd;">127</span>+c<br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">End Select</span><br />
&nbsp; &nbsp;col<span style=" ">&#40;</span>n<span style=" ">&#41;</span>=c<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Next</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">WritePixel</span> x,y,col<span style=" ">&#40;</span><span style="color: #33ffdd;">0</span><span style=" ">&#41;</span>+col<span style=" ">&#40;</span><span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">8</span>+col<span style=" ">&#40;</span><span style="color: #33ffdd;">2</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">16</span><span style="color: #33ffdd;">-16777216</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span></div>
<p><br />
Экспериментируя, можно использовать разные преобразования для отдельных каналов.
</p>
<a name=".D0.9C.D0.BE.D0.BD.D0.BE.D1.85.D1.80.D0.BE.D0.BC.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82&amp;action=edit&amp;section=3" title="Править секцию: Монохромизация">править</a>]</span> <span class="mw-headline">Монохромизация</span></h2>
<p>Монохромизация - перевод цветного изображения в монохромное (из градаций серого). Математически выглядит следующим образом:
</p>
<ul><li>r' = g' = b' = f(r,g,b)
</li></ul>
<p>Простейшие способы - взять один из каналов (Например, r' = g' = b' = r) или найти среднее арифметическое между значениями (r' = g' = b' = (r + g + b) / 3). Но, обычно пользуются линейной формулой вида r' = g' = b' = k<sub>r</sub> * r + k<sub>g</sub> * g + k<sub>b</sub> * b, т. к. каналы не равны по яркости (например, чистый синий цвет гораздо темнее чистого зеленого). Причем, все коэффициенты больше 0 и в сумме дают единицу. Чувствительность человеческого глаза к красному, зеленому и синему выражается следующими коэффициентами: 0.3, 0.59, 0.11:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span>,<span style="color: #33ffdd;">32</span><br />
<p><br />
i=<span style="color: #aaffff; font-weight: bold;">LoadImage</span><span style=" ">&#40;</span><span style="color: #00ff66;">&quot;image1.jpg&quot;</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> i,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">479</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">639</span><br />
&nbsp; p=<span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
&nbsp; b=p <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; g=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; r=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; c=.<span style="color: #33ffdd;">3</span>*r+.<span style="color: #33ffdd;">59</span>*g+.<span style="color: #33ffdd;">11</span>*b<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">WritePixel</span> x,y,c+c <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">8</span>+c <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">16</span><span style="color: #33ffdd;">-16777216</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span></div>
<p><br />
</p>
<a name=".D0.9B.D0.B8.D0.BD.D0.B5.D0.B9.D0.BD.D0.B0.D1.8F_.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82&amp;action=edit&amp;section=4" title="Править секцию: Линейная трансформация">править</a>]</span> <span class="mw-headline">Линейная трансформация</span></h2>
<p>Трансформация, основанная на системе линейных уравнений, значение конечной интенсивности в общем случае зависит от всех трех исходных:
</p>
<ul><li>r' = k<sub>rr</sub> * r + k<sub>gr</sub> * g + k<sub>br</sub> * b
</li><li>g' = k<sub>rg</sub> * r + k<sub>gg</sub> * g + k<sub>bg</sub> * b
</li><li>b' = k<sub>rb</sub> * r + k<sub>gb</sub> * g + k<sub>bb</sub> * b
</li></ul>
<p>Все соответствующие коэффициенты также больше 0 и в сумме дают единицу. Вот простейший пример:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span>,<span style="color: #33ffdd;">32</span><br />
<p><br />
i=<span style="color: #aaffff; font-weight: bold;">LoadImage</span><span style=" ">&#40;</span><span style="color: #00ff66;">&quot;image1.jpg&quot;</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> i,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">479</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">639</span><br />
&nbsp; p=<span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
&nbsp; r=p <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; g=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; b=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; r2=<span style=" ">&#40;</span>g+b<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><br />
&nbsp; g2=<span style=" ">&#40;</span>r+b<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><br />
&nbsp; b2=<span style=" ">&#40;</span>r+g<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">WritePixel</span> x,y,r2+g2 <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">8</span>+b2 <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">16</span><span style="color: #33ffdd;">-16777216</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span></div>
<p><br />
</p>
<a name=".D0.97.D0.B0.D0.BC.D0.B5.D0.BD.D0.B0_.D1.86.D0.B2.D0.B5.D1.82.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82&amp;action=edit&amp;section=5" title="Править секцию: Замена цвета">править</a>]</span> <span class="mw-headline">Замена цвета</span></h2>
<p>Есть интересный эффект, заменяющий один цвет - (r<sub>1</sub>,g<sub>1</sub>,b<sub>1</sub>) на другой -  (r<sub>2</sub>,g<sub>2</sub>,b<sub>2</sub>) с плавным переходом цветов: представим цвет, как точку в трехмерном пространстве, где каждая ось будет представлять одну из составляющих. Эта точка будет лежать внутри куба, т.к. значения интенсивностей ограничены промежутком. Возьмем цвет, который требуется заменить, и представим сферу с центром в точке, представляющий этот цвет, и радиусом R. Далее, задается трансформация: если исходный цвет лежит вне этой сферы, то он остается неизменным, если внутри, то находим расстояние от него до заменяемого и делим его на радиус - получаем число k в интервале (0,1). Каждая интенсивность конечного цвета вычисляется по формуле: r' = r * k + r<sub>2</sub> * (1 - k). То есть, чем ближе исходный цвет к заменяемому, тем он больше похож на цвет замены, чем ближе к границе, тем больше схож с исходным. Программно это выглядит вот так:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span>,<span style="color: #33ffdd;">32</span><br />
<p><br />
i=<span style="color: #aaffff; font-weight: bold;">LoadImage</span><span style=" ">&#40;</span><span style="color: #00ff66;">&quot;image1.jpg&quot;</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> i,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
<span style="color: #ffee00">;Заменяемый цвет</span><br />
r1=<span style="color: #33ffdd;">224</span><br />
g1=<span style="color: #33ffdd;">224</span><br />
b1=<span style="color: #33ffdd;">0</span><br />
<span style="color: #ffee00">;Цвет замены</span><br />
r2=<span style="color: #33ffdd;">64</span><br />
g2=<span style="color: #33ffdd;">64</span><br />
b2=<span style="color: #33ffdd;">255</span><br />
<span style="color: #ffee00">;Радиус</span><br />
rad#=<span style="color: #33ffdd;">128</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">479</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">639</span><br />
&nbsp; <span style="color: #ffee00">;Разложение цвета на составляющие</span><br />
&nbsp; p=<span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
&nbsp; b=p <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; g=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; r=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; <span style="color: #ffee00">;Расстояние между исходным цветом и заменяемым</span><br />
&nbsp; d#=<span style="color: #aaffff; font-weight: bold;">Sqr</span><span style=" ">&#40;</span><span style=" ">&#40;</span>r-r1<span style=" ">&#41;</span>*<span style=" ">&#40;</span>r-r1<span style=" ">&#41;</span>+<span style=" ">&#40;</span>g-g1<span style=" ">&#41;</span>*<span style=" ">&#40;</span>g-g1<span style=" ">&#41;</span>+<span style=" ">&#40;</span>b-b1<span style=" ">&#41;</span>*<span style=" ">&#40;</span>b-b1<span style=" ">&#41;</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #ffee00">;Проверка нахождения цвета внутри сферы</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> d#&lt;=rad# <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Вычисление коэффициентов</span><br />
&nbsp; &nbsp;d1#=d#/rad#<br />
&nbsp; &nbsp;d2#=<span style="color: #33ffdd;">1</span>-d1#<br />
&nbsp; &nbsp;<span style="color: #ffee00">;Значения интенсивностей составляющих</span><br />
&nbsp; &nbsp;r=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>d1#*r+d2#*r2<span style=" ">&#41;</span><br />
&nbsp; &nbsp;g=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>d1#*g+d2#*g2<span style=" ">&#41;</span><br />
&nbsp; &nbsp;b=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>d1#*b+d2#*b2<span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp; <span style="color: #ffee00">;Изображение пиксела</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">WritePixel</span> x,y,b+<span style=" ">&#40;</span>g <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span>+<span style=" ">&#40;</span>r <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span></div>
<p><br />
Еще один, более сложный эффект замены цвета, основанный на сопоставлении отношений цветовых составляющих:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span>,<span style="color: #33ffdd;">32</span><br />
<p><br />
i=<span style="color: #aaffff; font-weight: bold;">LoadImage</span><span style=" ">&#40;</span><span style="color: #00ff66;">&quot;image1.jpg&quot;</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> i,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
<span style="color: #ffee00">;Заменяемый цвет</span><br />
r1#=<span style="color: #33ffdd;">255</span><br />
g1#=<span style="color: #33ffdd;">64</span><br />
b1#=<span style="color: #33ffdd;">64</span><br />
<span style="color: #ffee00">;Вычисление его коэффициентов</span><br />
s1=r1#+g1#+b1#<br />
kr1#=r1#/s1<br />
kg1#=g1#/s1<br />
kb1#=b1#/s1<br />
<span style="color: #ffee00">;Цвет замены</span><br />
r2#=<span style="color: #33ffdd;">0</span><br />
g2#=<span style="color: #33ffdd;">0</span><br />
b2#=<span style="color: #33ffdd;">255</span><br />
<span style="color: #ffee00">;Вычисление его коэффициентов</span><br />
s2=r2#+g2#+b2#<br />
r2#=r2#/s2<br />
g2#=g2#/s2<br />
b2#=b2#/s2<br />
<span style="color: #ffee00">;Допустимая разность коэффициентов</span><br />
skmax#=.<span style="color: #33ffdd;">5</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">479</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">639</span><br />
&nbsp; <span style="color: #ffee00">;Разложение цвета на составляющие</span><br />
&nbsp; p=<span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y<span style=" ">&#41;</span><br />
&nbsp; b#=p <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; g#=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; r#=<span style=" ">&#40;</span>p <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span><br />
&nbsp; <span style="color: #ffee00">;Вычисление коэффициентов исходного цвета</span><br />
&nbsp; s=r#+g#+b#<br />
&nbsp; kr#=r#/s<br />
&nbsp; kg#=g#/s<br />
&nbsp; kb#=b#/s<br />
&nbsp; sk#=<span style="color: #aaffff; font-weight: bold;">Abs</span><span style=" ">&#40;</span>kr1#-kr#<span style=" ">&#41;</span>+<span style="color: #aaffff; font-weight: bold;">Abs</span><span style=" ">&#40;</span>kg1#-kg#<span style=" ">&#41;</span>+<span style="color: #aaffff; font-weight: bold;">Abs</span><span style=" ">&#40;</span>kb1#-kb#<span style=" ">&#41;</span><br />
&nbsp; <span style="color: #ffee00">;Проверка на допустимую разность коэффициентов</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> sk#&lt;=skmax# <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Вычисление множителей коэффициентов</span><br />
&nbsp; &nbsp;sk1#=sk#/skmax#<br />
&nbsp; &nbsp;sk2#=<span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>-sk1#<span style=" ">&#41;</span>*s<br />
&nbsp; &nbsp;<span style="color: #ffee00">;Значения интенсивностей составляющих</span><br />
&nbsp; &nbsp;rr=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>sk1#*r+sk2#*r2#<span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> rr&lt;<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> rr=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">ElseIf</span> rr&gt;<span style="color: #33ffdd;">255</span> <span style="color: #aaffff; font-weight: bold;">Then</span> rr=<span style="color: #33ffdd;">255</span><br />
&nbsp; &nbsp;gg=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>sk1#*g+sk2#*g2#<span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> gg&lt;<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> gg=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">ElseIf</span> gg&gt;<span style="color: #33ffdd;">255</span> <span style="color: #aaffff; font-weight: bold;">Then</span> gg=<span style="color: #33ffdd;">255</span><br />
&nbsp; &nbsp;bb=<span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span>sk1#*b+sk2#*b2#<span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> bb&lt;<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> bb=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">ElseIf</span> bb&gt;<span style="color: #33ffdd;">255</span> <span style="color: #aaffff; font-weight: bold;">Then</span> bb=<span style="color: #33ffdd;">255</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">WritePixel</span> x,y,bb+<span style=" ">&#40;</span>gg <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">8</span><span style=" ">&#41;</span>+<span style=" ">&#40;</span>rr <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">16</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp; <span style="color: #ffee00">;Изображение пиксела</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span></div>
<p><br />
</p>
<div align="right"><a href="http://blitzetcetera.org/images/5/5f/Virtual_Painter_-_Color.zip" class="internal" title="Virtual Painter - Color.zip">скачать архив с файлами к статье</a></div>
<hr />
<p>Автор: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:Matt_Merkulov" title="Участник:Matt Merkulov">Матвей Меркулов</a> (E-mail: MattMerk@mail.ru, ICQ: 392-274-050)
</p><!-- 
Pre-expand include size: 5009 bytes
Post-expand include size: 550 bytes
Template argument size: 34 bytes
Maximum: 2097152 bytes
-->

<!-- Saved in parser cache with key db1:pcache:idhash:147-0!1!0!!ru!2 and timestamp 20071110035845 -->
<div class="printfooter">
Получено с <a href="b1kqbify.html">http://blitzetcetera.org/index.php/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%85%D1%83%D0%B4%D0%BE%D0%B6%D0%BD%D0%B8%D0%BA:_%D1%86%D0%B2%D0%B5%D1%82 by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>