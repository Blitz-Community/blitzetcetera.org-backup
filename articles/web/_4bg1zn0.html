<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Отладка программы,Matt Merkulov" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Отладка программы — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Отладка_программы";
var wgTitle = "Отладка программы";
var wgAction = "view";
var wgArticleId = "675";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3191";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Отладка_программы">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Отладка программы</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<p>Те, кто создавали (или просто набирал по бумажке) программы размером больше экранной страницы, наверняка после набора программы (или ее автономной работоспособной части) сталкивались с необходимостью устранения ошибок в программе. Этот процесс называется отладкой. Условно можно разделить сей этап на три части (номера указывают как порядок, так и степень сложности):
</p>
<ul><li>Исправление синтаксических ошибок (без этого программа вообще не запускается)
</li><li>Устранение сбоев, приводящих к завершению программы.
</li><li>Коррекция неправильной работы программы
</li></ul>
<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#C.D0.B8.D0.BD.D1.82.D0.B0.D0.BA.D1.81.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B8"><span class="tocnumber">1</span> <span class="toctext">Cинтаксические ошибки</span></a></li>
<li class="toclevel-1"><a href="#.D0.A1.D0.B1.D0.BE.D0.B8_.D0.B8_.D0.BA.D0.BE.D1.80.D1.80.D0.B5.D0.BA.D1.86.D0.B8.D1.8F_.D0.BD.D0.B5.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="tocnumber">2</span> <span class="toctext">Сбои и коррекция неправильной работы программы</span></a></li>
<li class="toclevel-1"><a href="#.D0.97.D0.BD.D0.B0.D0.BA.D0.BE.D0.BC.D1.81.D1.82.D0.B2.D0.BE_.D1.81_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D1.87.D0.B8.D0.BA.D0.BE.D0.BC"><span class="tocnumber">3</span> <span class="toctext">Знакомство с отладчиком</span></a></li>
<li class="toclevel-1"><a href="#.D0.A2.D0.BE.D1.87.D0.BA.D0.B8_.D0.BE.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.B0"><span class="tocnumber">4</span> <span class="toctext">Точки останова</span></a></li>
<li class="toclevel-1"><a href="#.D0.A0.D0.B0.D0.B1.D0.BE.D1.82.D0.B0_.D1.81_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D1.87.D0.B8.D0.BA.D0.BE.D0.BC_-_.D1.81.D0.BE.D0.B2.D0.B5.D1.82.D1.8B"><span class="tocnumber">5</span> <span class="toctext">Работа с отладчиком - советы</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name="C.D0.B8.D0.BD.D1.82.D0.B0.D0.BA.D1.81.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B8"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B&amp;action=edit&amp;section=1" title="Править секцию: Cинтаксические ошибки">править</a>]</span> <span class="mw-headline">Cинтаксические ошибки</span></h2>
<p>Они возникают в основном из-за опечаток или незнания синтаксиса команды и довольно легко устраняются.
</p>
<ul><li>Неправильное имя команды
</li><li>Ошибка в имени переменной
</li><li>Указание неверного типа переменной
</li><li>Неверный тип данных в строке вызова процедуры
</li><li>Нехватка данных в строке вызова Function
</li><li>Пропущенные скобки (обычно, закрывающая)
</li><li>Не та косая черта ("/" вместо "\" в ссылке на элемент типа)
</li><li>Незавершенная структура (If Then без End If, Repeat без Forever, For без Next и т. д.)
</li><li>Exit вместо Return в Function
</li></ul>
<a name=".D0.A1.D0.B1.D0.BE.D0.B8_.D0.B8_.D0.BA.D0.BE.D1.80.D1.80.D0.B5.D0.BA.D1.86.D0.B8.D1.8F_.D0.BD.D0.B5.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B&amp;action=edit&amp;section=2" title="Править секцию: Сбои и коррекция неправильной работы программы">править</a>]</span> <span class="mw-headline">Сбои и коррекция неправильной работы программы</span></h2>
<p>Для поиска таких ошибок обычно используется отладчик. Причины могут быть самые разные:
</p>
<ul><li>Неправильный путь к файлу (или имя файла), отсутствие файла
</li><li>Попытка доступа к несуществующему объекту (например, CreateEntity вернул 0)
</li><li>Неверная инициализация (или ее отсутствие), неправильное изменение значения переменной
</li><li>Упущенный из виду вариант, подлежащий обработке (а это значит нужно писать новую функцию / кусок кода)
</li><li>Использование в Write\ReadPixelFast координат, выходящих за пределы изображения
</li><li>Использование команд Write\ReadPixelFast без команды LockBuffer
</li><li>Попытка доступа к элементу переменной со значением Null пользовательского типа
</li><li>Ошибка в загружаемом файле (неверный синтаксис или порядок следования данных)
</li></ul>
<a name=".D0.97.D0.BD.D0.B0.D0.BA.D0.BE.D0.BC.D1.81.D1.82.D0.B2.D0.BE_.D1.81_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D1.87.D0.B8.D0.BA.D0.BE.D0.BC"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B&amp;action=edit&amp;section=3" title="Править секцию: Знакомство с отладчиком">править</a>]</span> <span class="mw-headline">Знакомство с отладчиком</span></h2>
<p>Когда вы запустите программу, включив Debug Mode, появится окно отладчика. Оно состоит из:
</p>
<ul><li>Панели с кнопками
</li><li>Широкого окна с вкладкой Debug Log
</li><li>Узкого окошка со вкладками Local, Global, Consts
</li></ul>
<p>Кнопки выполняют следующие функции (во время работы программы доступны 1-я и 6-я, во время отладки со 2-й по 6-ю):
</p>
<ul><li>Светофор с красным сигналом - остановка программы
</li><li>Светофор с зеленым сигналом - продолжение работы программы
</li><li>Стрелка вправо - выполнение текущей строки и переход на следующую без входа в Function
</li><li>Стрелка вправо-вниз - выполнение текущей строки и переход на следующую, при вызове Function - вход
</li><li>Стрелка вправо-вверх - выполнение программы до выхода из Function (если находимся в главной программе, тогда просто пуск)
</li><li>Ядерный взрыв - прекращение работы программы и выход в редактор
</li></ul>
<p>В большом окне появляется текст программы (на вкладке с именем файла) с выделенной строкой - текущей, Debug Log - это журнал отладки, вы можете писать в него строки во время выполнения программы с помощью команды DebugLog message$.
</p><p>Вкладки маленького окошка (обновляются при остановке программы):
</p>
<ul><li>Local - дерево функций, в которые выполнен вход (включая главную программу на первой строке) с используемыми переменными
</li><li>Global - список глобальных переменных со значениями
</li><li>Consts - список констант со значениями
</li></ul>
<p>Во вкладке Local вы можете раскрывать дерево функции, содержащее переменные с их значениями. Раскрыв переменную пользовательского типа, вы можете просмотреть ее элементы и их значения (а если они, в свою очередь являются типами - то раскрыть их).
</p>
<a name=".D0.A2.D0.BE.D1.87.D0.BA.D0.B8_.D0.BE.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B&amp;action=edit&amp;section=4" title="Править секцию: Точки останова">править</a>]</span> <span class="mw-headline">Точки останова</span></h2>
<p>В редакторе их установка не предусмотрена, поэтому, если вы хотите, чтобы в каком либо месте программа прервалась и вышла в отладчик, поставьте команду "Stop".
</p>
<a name=".D0.A0.D0.B0.D0.B1.D0.BE.D1.82.D0.B0_.D1.81_.D0.BE.D1.82.D0.BB.D0.B0.D0.B4.D1.87.D0.B8.D0.BA.D0.BE.D0.BC_-_.D1.81.D0.BE.D0.B2.D0.B5.D1.82.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B&amp;action=edit&amp;section=5" title="Править секцию: Работа с отладчиком - советы">править</a>]</span> <span class="mw-headline">Работа с отладчиком - советы</span></h2>
<p>Для начала, нужно определить точку сбоя. Обычно, это несложно - программа выдает сообщение типа "Memory Access Violation" или "Object does not exist" и вылетает в отладчик. Теперь вы можете посмотреть, в какой строке произошел сбой и определить переменную с неправильным значением. Если в строке используются вычисляемые выражения или элементы массива, то чтобы просмотреть их значения, нужно создать переменную, присвоив ей значение этого выражения (или элемента массива):
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #ffee00">;Пример кода</span><br />
<p><span style="color: #aaffff; font-weight: bold;">WritePixel</span> x+dx<span style=" ">&#40;</span><span style="color: #33ffdd;">5</span><span style=" ">&#41;</span>,y+<span style="color: #aaffff; font-weight: bold;">sqr</span><span style=" ">&#40;</span>xx*xx+yy*yy<span style=" ">&#41;</span>,<span style="color: #33ffdd;">-1</span><br />
<span style="color: #ffee00">;Код, подходящий для отладки</span><br />
x0=x+dx<span style=" ">&#40;</span><span style="color: #33ffdd;">5</span><span style=" ">&#41;</span><br />
y0=y+<span style="color: #aaffff; font-weight: bold;">sqr</span><span style=" ">&#40;</span>xx*xx+yy*yy<span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">WritePixel</span> x0,y0,<span style="color: #33ffdd;">-1</span><br />
</p>
<span style="color: #ffee00">;Теперь можно точно узнать координаты записываемого пиксела</span></div>
<p>После выяснения имени переменной с неверным значением, постепенно распутываем загадку, прослеживая процесс работы программы в обратном направлении: устанавливаем точки останова выше, смотрим значение этой переменной на ранних этапах работы программы. Если выясняется, что переменная функционирует правильно, а ошибка происходит из-за другой переменной связанной с текущей, то переключаемся на нее, et cetera... 
</p><p>Если сбой произошел в цикле, полезным будет выяснить, почему предыдущие этапы прошли без сбоев, а текущий вызвал сбой.
</p><p>Не забывайте о возможности записи значений переменных, а также информации о прохождении какого-л этапа программы в журнал отладки (Debug Log). Это позволит быстро выяснить, где и почему произошел сбой. Можно также выводить отладочную информацию в файл или на экран.
</p><p>Иногда бывает полезно написать отладочную утилиту (например, отображающую связи между переменными пользовательского типа или выводящую таблицу значений массива). В приложениях, использующих трехмерную графику, можно создавать сферы и помещать их на место виртуальных точек (скажем, вершин многогранника, если треугольники заданы неправильно или еще не заданы), включая pivots.
</p>
<hr />
<p>Автор: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:Matt_Merkulov" title="Участник:Matt Merkulov">Матвей Меркулов</a> (E-mail: MattMerk@mail.ru, ICQ: 392-274-050)
</p>
<!-- Saved in parser cache with key db1:pcache:idhash:675-0!1!0!!ru!2 and timestamp 20071110040922 -->
<div class="printfooter">
Получено с <a href="_4bg1zn0.html">http://blitzetcetera.org/index.php/%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>