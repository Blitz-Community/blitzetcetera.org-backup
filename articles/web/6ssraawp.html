<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80 by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Создай свой скринсейвер,MANIAK dobrii" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Создай свой скринсейвер — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Создай_свой_скринсейвер";
var wgTitle = "Создай свой скринсейвер";
var wgAction = "view";
var wgArticleId = "459";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3568";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Создай_свой_скринсейвер">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Создай свой скринсейвер</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1"><a href="#.D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D1.8B"><span class="tocnumber">2</span> <span class="toctext">Основы</span></a></li>
<li class="toclevel-1"><a href="#.D0.98.D0.B7.D0.B2.D0.B5.D1.81.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"><span class="tocnumber">3</span> <span class="toctext">Известные проблемы</span></a></li>
<li class="toclevel-1"><a href="#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80"><span class="tocnumber">4</span> <span class="toctext">Пример</span></a></li>
<li class="toclevel-1"><a href="#Post_Scriptum"><span class="tocnumber">5</span> <span class="toctext">Post Scriptum</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80&amp;action=edit&amp;section=1" title="Править секцию: Введение">править</a>]</span> <span class="mw-headline">Введение</span></h2>
<p>Скринсейверы - классная штука. Все знают, что это такое, так что я не буду объяснять тебе что они делают. Создается вопрос - "Могу ли я сделать скрину в Blitz3D??". Ответ - ДА!! Но есть пара аспектов, с которыми тебе придется познакомиться. Этот тьюториал научит тебя основам построения скринсейверов, и ты сможешь сам создать свой. 
</p><p>Версия дока: 1.04.
</p>
<a name=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80&amp;action=edit&amp;section=2" title="Править секцию: Основы">править</a>]</span> <span class="mw-headline">Основы</span></h2>
<p>Чтобы твоя программа могла включаться как скринсейвер в Windows, она должна понимать параметры, которые Windows использует для контроля скринсейвера. Два самых важных параметра, которые наша прога должна понимать (первые два): 
</p>
<ul><li>/S - используется для включения самого скринсейвера
</li><li>/C - используется для запуска Окна Установок (Configuration Screen)
</li><li>/P - используется для запуска окна предпросмотра (Preview Window).(смотри секцию Известные проблемы)
</li></ul>
<p><br />
Если никакого параметра нет, то прога должна выключится, или получим ошибку. 
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #00ff66;">&quot;&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #ffee00">; Если параметр есть то: </span><br />
<p>&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Upper</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Left</span>$<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span>,<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><span style=" ">&#41;</span> = <span style="color: #00ff66;">&quot;/C&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Configure<span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; &nbsp;надо включать окно установок</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Upper</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Left</span>$<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span>,<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><span style=" ">&#41;</span> = <span style="color: #00ff66;">&quot;/S&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Start<span style=" ">&#40;</span><span style=" ">&#41;</span> &nbsp;<span style="color: #ffee00">; &nbsp;или надо включать сам скринсейвер? &nbsp;</span><br />
</p>
<span style="color: #aaffff; font-weight: bold;">EndIf</span></div>
<p>Кроме того, если ты используешь внешние ресурсы (картинку из файла например), то тебе придется поменять рабочую директорию на ту, в которой лежит скринсейвер. Если так не сделать, то скрина вылетит с ошибкой!!    
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">ChangeDir</span> <span style="color: #aaffff; font-weight: bold;">SystemProperty</span>$<span style=" ">&#40;</span><span style="color: #00ff66;">&quot;appdir&quot;</span><span style=" ">&#41;</span></div>
<p>Наконец, нам нужно вставить маленькую паузу в главный цикл скринсейвера. В случае с Blit3D\2D, это обеспечивает другие процессы достаточным кол-вом времени CPU. Это Blitz Basic-овый эквивалент команде VB DoEvents .    
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">Delay</span> <span style="color: #33ffdd;">1</span></div>
<p>Намек: Ты можешь нажать ctrl-alt-del  чтобы позырить скоко времени CPU занимает какой-либо процесс. Во время тестирования лучше закомментировать эту строку. Также (во время тестов), тебе потребуются дать проге параметры запуска(/s,/c), в зависимости от того что ты щас тестишь:) Сделать это можно так: в своем IDE найди опцию Program Command Line, включи её и выставь нужное значение. Иначе прога просто выключится! 
</p>
<a name=".D0.98.D0.B7.D0.B2.D0.B5.D1.81.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80&amp;action=edit&amp;section=3" title="Править секцию: Известные проблемы">править</a>]</span> <span class="mw-headline">Известные проблемы</span></h2>
<p>Невозможно отобразить препросмотр Скрины внутри Windows-овского окна препросмотра с  Blitz2D. Но всегда есть способы решения этой проблемы в B+ и Blitz3D. Eikon получил доступ к окну препросмотра в B+. Ты можешь скачать пример&amp;исходник <a href="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=eikon02262004191002&amp;comments=no|здесь" class="external autonumber" title="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=eikon02262004191002&amp;comments=no|здесь" rel="nofollow">[1]</a>.
Когда делаешь Скрину в Blitz3D или Blitz2D, маленькое черное окно появляется перед запуском скринсейвера, но... просто игнорируй его.&nbsp;:) Вот код, который покажет тебе примерную структуру скринсейвера. 
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #ffee00">; Тьюториал: Как создать скринсейвер.</span><br />
<p><span style="color: #ffee00">; Автор: Grisu</span><br />
<span style="color: #ffee00">; Перевод: MANIAK_dobrii</span><br />
<span style="color: #ffee00">; Версия: 1.00</span><br />
<br />
<span style="color: #ffee00">; Этот код служит шаблоном скринсейвера.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; 1. Просто вставь свой код в функции &quot;Configure()&quot; и &quot;Start()&quot;.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; 2. Скомпилируй прогу и поменяй расширение с &quot;.exe&quot; на &quot;.scr&quot;.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; 3. Положи свою скрину(&amp; файлы если есть) в корневую папку Windows(C:\Windows\ например)</span><br />
<br />
<span style="color: #ffee00">; Известные проблемы со скринами, написанными в blitz-е:</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; - Невозможно показать препросмотр скрины в окне препросмотра скринсейвера Windows.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; - При запуске скрины, сначала появится маленькое черненькое окно.</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">AppTitle</span> <span style="color: #00ff66;">&quot;Screensaver Tutorial1&quot;</span> <span style="color: #ffee00">; Имя твоей скрины</span><br />
<br />
<span style="color: #ffee00">; ВАЖНО</span><br />
<span style="color: #ffee00">; Нужно чтобы запустить твою скрину под Windows!!!.</span><br />
<span style="color: #ffee00">; Она меняет процессную директорию на ту, где лежит скринсейвер.</span><br />
<span style="color: #ffee00">; Комментируй эту строку во время тестов, т.к. &quot;appdir&quot; Blitz-а это &quot;\bin&quot;.</span><br />
<span style="color: #ffee00">; иначе твоя скрина просто вылетит!!!&nbsp;:)</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">ChangeDir</span> <span style="color: #aaffff; font-weight: bold;">SystemProperty</span>$<span style=" ">&#40;</span><span style="color: #00ff66;">&quot;appdir&quot;</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">; Смотрим, какие параметры нам дала Windows </span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #00ff66;">&quot;&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #ffee00">; Если параметр есть то: </span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Upper</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Left</span>$<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span>,<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><span style=" ">&#41;</span> = <span style="color: #00ff66;">&quot;/C&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Configure<span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; надо включать окно установок</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Upper</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Left</span>$<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span>,<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><span style=" ">&#41;</span> = <span style="color: #00ff66;">&quot;/S&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Start<span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; или надо включать сам скринсейвер? </span><br />
<span style="color: #aaffff; font-weight: bold;">EndIf</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #ffee00">; Конец проги, bye bye(прим. автора:)(прим. пер.))</span><br />
<br />
<span style="color: #ffee00">; Вставляй сюда код окна установок.</span><br />
<span style="color: #ffee00">; Если нужно, то можно врубить внешнюю прогу. Например написанную на VB, Delphi или другом.</span><br />
<span style="color: #aaffff; font-weight: bold;">Function</span> Configure<span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">; Показываем Опции, которые можно поменять, например Разрешение и уровень детализации...</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">End Function</span> <span style="color: #ffee00">; конец Configure()</span><br />
<br />
<span style="color: #ffee00">; Вставляй сюда код самого скринсейвера.</span><br />
<span style="color: #aaffff; font-weight: bold;">Function</span> Start<span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
&nbsp;<span style="color: #ffee00">; Ставим GFX-режим и грузим ресурсы... (перед главным циклом!)</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">FlushKeys</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; чистим буфер клавы</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">FlushMouse</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; чистим буфер мыши </span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">MoveMouse</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span> <span style="color: #ffee00">; двигаем мышу в 0,0 для последующей проверки</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Repeat</span> <span style="color: #ffee00">; Начало главного цикла</span><br />
<br />
&nbsp; <span style="color: #ffee00">; Тут идет главный цикл!</span><br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Delay</span> <span style="color: #33ffdd;">1</span> <span style="color: #ffee00">; не будем использовать все 100% CPU!</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Until</span> <span style="color: #aaffff; font-weight: bold;">GetMouse</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">MouseX</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">MouseY</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">GetKey</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <br />
&nbsp;<span style="color: #ffee00">; проверяем, дергает ли пользователь судорожно мышкой, или бьет по клаве&nbsp;:)</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">End Function</span> <span style="color: #ffee00">; конец Start()</span></div>
<p>Ты можешь легко модифицировать код как тебе надо. Просто вставь свой код в функции Start() и Configure() . 
</p>
<a name=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80&amp;action=edit&amp;section=4" title="Править секцию: Пример">править</a>]</span> <span class="mw-headline">Пример</span></h2>
<p>Пора проверить - работает ли наша скрина? Тут добавлено чуток кода, так что скрина будет что-нибудь делать.
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #ffee00">; Тьюториал: Как создать скринсейвер.</span><br />
<p><span style="color: #ffee00">; Автор: Grisu</span><br />
<span style="color: #ffee00">; Перевод: MANIAK_dobrii</span><br />
<span style="color: #ffee00">; Версия: 1.00</span><br />
<br />
<br />
<span style="color: #ffee00">; Это код готового скринсейвера.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; 1. Просто вставь свой код в функции &quot;Configure()&quot; и &quot;Start()&quot;.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; 2. Скомпилируй прогу и поменяй расширение с &quot;.exe&quot; на &quot;.scr&quot;.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; 3. Положи свою скрину(&amp; файлы если есть) в корневую папку Windows(C:\Windows\ например)</span><br />
<br />
<br />
<span style="color: #ffee00">; Известные проблемы со скринами, написанными в blitz-е:</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; - Невозможно показать препросмотр скрины в окне препросмотра скринсейвера Windows.</span><br />
<span style="color: #ffee00">;</span><br />
<span style="color: #ffee00">; - При запуске скрины, сначала появится маленькое черненькое окно.</span><br />
<br />
<br />
<span style="color: #aaffff; font-weight: bold;">Const</span> SCREENX=<span style="color: #33ffdd;">800</span> <span style="color: #ffee00">; 2 константы для установки разрешения</span><br />
<span style="color: #aaffff; font-weight: bold;">Const</span> SCREENY=<span style="color: #33ffdd;">600</span> <br />
<br />
<span style="color: #ffee00">; ВАЖНО</span><br />
<span style="color: #ffee00">; Нужно чтобы запустить твою скрину под Windows!!!.</span><br />
<span style="color: #ffee00">; Она меняет процессную дирикторию на ту, где лежит скринсейвер.</span><br />
<span style="color: #ffee00">; Комментирую эту строку во время тестов, т.к. &quot;appdir&quot; Blitz-а это &quot;\bin&quot;.</span><br />
<span style="color: #ffee00">; иначе твоя скрина просто вылетит!!!&nbsp;:)</span><br />
<br />
<span style="color: #ffee00">;ChangeDir SystemProperty$(&quot;appdir&quot;)</span><br />
<br />
<span style="color: #ffee00">; Смотрим, какие параметры нам дала Windows </span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #00ff66;">&quot;&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #ffee00">; Если параметр есть то: </span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Upper</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Left</span>$<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span>,<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><span style=" ">&#41;</span> = <span style="color: #00ff66;">&quot;/C&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Configure<span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; надо включать окно установок</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">Upper</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Left</span>$<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">CommandLine</span>$<span style=" ">&#40;</span><span style=" ">&#41;</span>,<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><span style=" ">&#41;</span> = <span style="color: #00ff66;">&quot;/S&quot;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Start<span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; или надо включать сам скринсейвер? </span><br />
<span style="color: #aaffff; font-weight: bold;">EndIf</span> <span style="color: #ffee00">; &lt;&gt; &quot;&quot;</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #ffee00">; Конец проги, bye bye(прим. автора:)(прим. пер.))</span><br />
<br />
<br />
<span style="color: #aaffff; font-weight: bold;">Function</span> Configure<span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">; Вставляй сюда код окна установок.</span><br />
<span style="color: #ffee00">; Если нужно, то можно врубить внешнюю прогу. Например написанную на VB, Delphi или другом.</span><br />
<br />
&nbsp;<span style="color: #ffee00">; Просто чтобы показать, что окно установок включилось!</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">AppTitle</span> <span style="color: #00ff66;">&quot;Screensaver Options&quot;</span> <span style="color: #ffee00">; Меняем заголовок окна</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span>,<span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">2</span> <span style="color: #ffee00">; ставим GFX режим</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">SetBuffer</span> <span style="color: #aaffff; font-weight: bold;">BackBuffer</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Repeat</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">10</span>,<span style="color: #33ffdd;">10</span>, <span style="color: #00ff66;">&quot;Тьюториал Grisu по созданию скринсейверов&quot;</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">10</span>,<span style="color: #33ffdd;">20</span>, <span style="color: #00ff66;">&quot;Перевел MANIAK_dobrii&quot;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">10</span>,<span style="color: #33ffdd;">30</span>, <span style="color: #00ff66;">&quot;-----------------------------------------&quot;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">10</span>,<span style="color: #33ffdd;">50</span>, <span style="color: #00ff66;">&quot;Это просто пример простейшего скринсейвера.&quot;</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">10</span>,<span style="color: #33ffdd;">70</span>, <span style="color: #00ff66;">&quot;Так что тут нечего конфигурировать!&quot;</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">10</span>,<span style="color: #33ffdd;">450</span>,<span style="color: #00ff66;">&quot;Нажми кнопку или пошируди мышой...&nbsp;:)&quot;</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Flip</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Delay</span> <span style="color: #33ffdd;">1</span> <span style="color: #ffee00">; не будем использовать все 100% CPU!</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Until</span> <span style="color: #aaffff; font-weight: bold;">GetKey</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">WaitMouse</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <br />
<br />
<span style="color: #aaffff; font-weight: bold;">End Function</span> <span style="color: #ffee00">; конец Configure()</span><br />
<br />
<br />
<span style="color: #aaffff; font-weight: bold;">Function</span> Start<span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #ffee00">; Вставляй сюда код самого скринсейвера.</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">AppTitle</span> <span style="color: #00ff66;">&quot;Screensaver Tutorial1&quot;</span> <span style="color: #ffee00">; The Name of your Screensaver</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Graphics</span> SCREENX,SCREENY,<span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">1</span> <span style="color: #ffee00">; set GFX Mode</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">SetBuffer</span> <span style="color: #aaffff; font-weight: bold;">BackBuffer</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">FlushKeys</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; чистим буфер клавы</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">FlushMouse</span><span style=" ">&#40;</span><span style=" ">&#41;</span> <span style="color: #ffee00">; чистим буфер мыши </span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">MoveMouse</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span> <span style="color: #ffee00">; бвигаем мышу в 0,0 для последующей проверки</span><br />
<br />
&nbsp;Textout$=<span style="color: #00ff66;">&quot;Тьюториал Grisu по созданию скринсейверов&quot;</span> <span style="color: #ffee00">; Этот текст будет написан</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Repeat</span> <span style="color: #ffee00">; Начало главного цикла </span><br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">255</span><span style=" ">&#41;</span>,<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">255</span><span style=" ">&#41;</span>,<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">255</span><span style=" ">&#41;</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,SCREENX,SCREENY,<span style="color: #33ffdd;">1</span><br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> SCREENY <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span> <br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">0</span>,y,SCREENX,<span style="color: #33ffdd;">1</span> <br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Next</span> <br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">50</span>,<span style="color: #33ffdd;">50</span>,SCREENX<span style="color: #33ffdd;">-100</span>,SCREENY<span style="color: #33ffdd;">-100</span>,<span style="color: #33ffdd;">1</span> <span style="color: #ffee00">; Рисуем черный квадрат в центре</span><br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span> <span style="color: #ffee00">; пишем текст</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Text</span> <span style=" ">&#40;</span>SCREENX-<span style="color: #aaffff; font-weight: bold;">StringWidth</span><span style=" ">&#40;</span>Textout$<span style=" ">&#41;</span><span style=" ">&#41;</span>/<span style="color: #33ffdd;">2</span>,SCREENY/<span style="color: #33ffdd;">2</span>, Textout$ <br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Flip</span> <span style="color: #ffee00">; flip-аем буфферы</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Delay</span> <span style="color: #33ffdd;">1</span> <span style="color: #ffee00">; не будем использовать все 100% CPU!</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Until</span> <span style="color: #aaffff; font-weight: bold;">GetMouse</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">MouseX</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">MouseY</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #aaffff; font-weight: bold;">GetKey</span><span style=" ">&#40;</span><span style=" ">&#41;</span> &lt;&gt; <span style="color: #33ffdd;">0</span><br />
&nbsp;<span style="color: #ffee00">; проверяем, дергает ли пользователь судорожно мышкой, или бьет по клаве&nbsp;:) </span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">End Function</span> <span style="color: #ffee00">; конец Start()</span></div>
<p>Используй свой код! Когда будешь готов, то сделай следующее: 
</p>
<ul><li>Скомпилируй прогу
</li><li>Переименуй расширение из exe в scr.
</li><li>Положи скрину в корневую папку Windows, например: С:\Windows\ .
</li><li>Свойства: Экран / Заставка , выбери там свою скрину и проверь её.
</li><li>Или правый тык на файл и из pop-up выбирай Установить.
</li><li>Нажмешь Параметры - вылезет маленькое окно параметров.
</li><li>Нажмешь Просмотр -  запустишь скрину.
</li></ul>
<a name="Post_Scriptum"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80&amp;action=edit&amp;section=5" title="Править секцию: Post Scriptum">править</a>]</span> <span class="mw-headline">Post Scriptum</span></h2>
<p>Вот и всё! Надеюсь, принесло пользу.   
</p><p>Спасибо за прочтение! Оригинал статьи лежит <a href="http://www.blitzbasement.net/tutorials/screensave.htm" class="external text" title="http://www.blitzbasement.net/tutorials/screensave.htm" rel="nofollow">здесь</a>.
</p>
<div align="right"><a href="http://blitzetcetera.org/images/0/0a/Screensaver.zip" class="internal" title="Screensaver.zip">скачать архив с файлами к статье</a></div>
<hr />
<p>Автор: Grisu (e-mail: s.sarbok@gmx.de)<br />
Перевод: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:MANIAK_dobrii" title="Участник:MANIAK dobrii">MANIAK dobrii</a> (e-mail: MANIAK_dobrii@list.ru, сайт: <a href="http://www.maniak-dobrii.nm.ru/" class="external free" title="http://www.maniak-dobrii.nm.ru/" rel="nofollow">http://www.maniak-dobrii.nm.ru/</a>)<br />
Специальные спасибы: Krylar, Eikon, Eddie Blitzmaniac, Genexi2 &amp; SDF!
</p><!-- 
Pre-expand include size: 8383 bytes
Post-expand include size: 503 bytes
Template argument size: 29 bytes
Maximum: 2097152 bytes
-->

<!-- Saved in parser cache with key db1:pcache:idhash:459-0!1!0!!ru!2 and timestamp 20071110040930 -->
<div class="printfooter">
Получено с <a href="6ssraawp.html">http://blitzetcetera.org/index.php/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%B9_%D1%81%D0%B2%D0%BE%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%81%D0%B5%D0%B9%D0%B2%D0%B5%D1%80 by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>