<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%B0%D1%8F_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Бесконечная «Жизнь»,Matt Merkulov" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Бесконечная «Жизнь» — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Бесконечная_«Жизнь»";
var wgTitle = "Бесконечная «Жизнь»";
var wgAction = "view";
var wgArticleId = "589";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3553";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Бесконечная_«Жизнь»">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Бесконечная «Жизнь»</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<a name=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%B0%D1%8F_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=1" title="Править секцию: Введение">править</a>]</span> <span class="mw-headline">Введение</span></h2>
<p>В этой заключительной статье из цикла, будем избавляться от основного ограничения предыдущего алгоритма - размера поля. Это, конечно, приведет к заметному снижению скорости, но в некоторых задачах без гигантского поля просто не обойтись. Если взять поле со стороной, скажем, миллион ячеек (не заполняя его клетками случайным образом и не обрабатывая при этом около 10<sup>12</sup> / 2 ячеек) и поместить туда организм, даже распространяющийся на все поле, то он будет состоять из относительно небольшого количества клеток, поэтому скороть будет вполне приемлемой. Естественно, бесконечность в буквальном смысле реализовать не удастся, но поля со стороной в 4 миллиарда ячеек (2<sup>32</sup>) будет вполне достаточно.
</p><p>Основная проблема алгоритмов "Жизни" состоит в определении, заполнена ли ячейка, соседняя с данной. До сих пор она легко решалась созданием массива для ячеек всего доступного поля. Теперь доступны два варианта решения (может быть есть и другие):
</p>
<ul><li>Разбить поле на квадратные блоки с фиксированным количеством ячеек и обрабатывать каждый блок отдельно. В таком случае, придется создать буфер по размеру блока, очищать и заполнять его информацией несколько раз за цикл (что существенно замедляет работу), создать массив для хранения координат активных блоков и, самое главное, обеспечить стыковку блоков. Попробуйте реализовать этот алгоритм самостоятельно.
</li><li>Организовать древовидную структуру доступа к ячейкам. При этом, создаются цепочки, позволяющие добраться до соседних пикселов. Мало того, что такой алгоритм сам по себе сложен, создание и удаление цепочек замедляет процесс. Но со всем этим вполне можно примириться. Рассмотрим этот алгоритм подробнее.
</li></ul>
<a name=".D0.9E.D0.B4.D0.BD.D0.BE.D0.BC.D0.B5.D1.80.D0.BD.D0.B0.D1.8F_.D0.B4.D1.80.D0.B5.D0.B2.D0.BE.D0.B2.D0.B8.D0.B4.D0.BD.D0.B0.D1.8F_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%B0%D1%8F_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=2" title="Править секцию: Одномерная древовидная структура">править</a>]</span> <span class="mw-headline">Одномерная древовидная структура</span></h2>
<p>Чтобы понять суть и преимущества древовидной структуры, еще раз коснемся принципов действия десятичной системы счисления. В древности люди для обозначения количества объектов делали зарубки, рисовали черточки или завязывали узелки (это не что иное, как 1-ричная система счисления). Но чтобы обозначить, скажем, 123 объекта, им пришлось бы делать 123 зарубки, в то время как нам достаточно написать 3 символа. То есть, взять один раз по сто, два по десять и еще три объекта. В итоге, чтобы "добраться" до искомого числа нам нужно сделать 3 а не 123 шага. Причем, при увеличении шагов, количество возможных чисел возрастает в геометрической прогрессии. Теперь взгляните, как можно построить древовидную структуру для двоичной системы:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life3-01.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life3-01.gif" src="wssoxlmu.gif" width="480" height="180" /></a></span></div></div>
<p>Здесь три уровня, на каждом из которых можно продолжить движение вниз (0, темно-серый блок) или сделать шаг вправо (1, светло-серый блок). Чем выше уровень, тем больше шаг (степень двойки).Если все числа (блоки первого уровня - снизу) не нужны, то структуру можно упростить. Например, необходимы числа 1, 4, 6, 7:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life3-02.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life3-02.gif" src="832lzkxc.gif" width="480" height="180" /></a></span></div></div>
<p>Выберем блок №6 в качестве исходной точки и определим последовательность шагов для достижения каждого из оставшихся блоков: №7 - вверх, шаг вправо, вниз; №4 - вверх, вверх, шаг влево, вниз, вниз; №1 - вверх, вверх, шаг влево, вверх, шаг влево, вниз, вниз, шаг вправо, вниз. Нетрудно заметить, что путь разбивается на два этапа: 1 - движение вверх, к корню дерева (иногда - шаги влево), 2 - вниз к искомому блоку (иногда - шаги вправо). Т. к. при подъеме мы переходим на указатель более высокого уровня, то шаг влево совершается автоматически.
</p><p>В нашем алгоритме основное значение имеет указатель на исходный блок и положение конечного блока относительно исходного. Итак, дан исходный блок и приращение до конечного (N, dx). Теперь при поиске алгоритма создания пути возникают две задачи:  на сколько уровней подниматься, когда шагать вправо при спуске.
</p><p>Если приращение не равно 0 (в таком случае результат - исходный блок), то подъем вверх на один уровень обязателен. Поднимаясь от блоков №6 или №7, мы переходим на блок, с которого доступен переход на один из этих блоков. То есть, для данных (№6, +1) и (№7, -1) достаточно подняться только на один уровень. Будем отслеживать положение текущего блока изменением приращения. Рассмотрим ситуацию с поиском пути для данных (№7, -1): поднимаясь на блок более высокого уровня - "11", сделан шаг влево, увеличиваем приращение на 1 (так как мы приблизились к искомому блоку №6). Данные изменились - ("11",0). Для данных (№6, +1) результат подъема будет ("11", +1), т. к. шаг не был сделан. Так как от блока "11" можно сделать шаг (+1) или спуститься (+0), определим диапазон этого блока (он будет равен диапазону всех блоков этого уровня) - (0 - 1). Значит, для данных ("11", 0) и ("11", 1) подъем можно прекратить - приращения входят в диапазон блока.
</p><p>Данные (№6, -2), где искомый блок - №4: подъем вверх - ("11",-2), диапазон (0 - 1). Приращение в диапазон не попадает, поднимаемся еще. Заметьте, шаг увеличивается в 2 раза. Поэтому, т. к. сделан шаг влево - увеличиваем приращение не на 1, а на 2 - данные ("1", 0), диапазон тоже увеличивается в два раза - (0 - 3). Теперь можно спускаться.
</p><p>Еще более усложненный пример - данные (№6, -5), где искомый блок - №1. Подъем: (№6, -5), (0); ("11",-5), (0 - 1); ("1", -3), (0 - 3); ("корень", 1), (0 - 7). Подъем завершен, но как теперь правильно спуститься? Выручит двоичное представление приращения (оно теперь - 001). Так как в третьем разряде - 0, при спуске на третий уровень шаг вправо не делаем. То же самое и для второго уровня. В первом разряде - единица, поэтому шагаем вправо и приходим к искомому блоку.
</p><p>А что делать, если искомые блоки выходят за пределы дерева? Взгляните на схему (сверху - путь для (№7, +4), снизу - (№1, -4)):
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life3-03.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Life3-03.gif" src="bwzmd-d_-3.gif" width="482" height="282" /></a></span></div></div>
<p>Cтруктуре придана гибкость за счет отказа от фиксированной нумерации блоков. Добавляются указатели четвертого уровня: в первом случае, бывший "корень" становится "темно-серым", чтобы можно было сделать шаг вправо к искомому блоку, во втором - "светло-серым", чтобы можно было сделать шаг влево. Еще один аспект - если соответствующие указатели отсутствуют, они создаются по мере надобности. Вообще, операция "надстройки" структуры повторяется до тех пор, пока блок не станет доступен (для отдаленных блоков).
</p>
<a name=".D0.9E.D1.81.D0.BE.D0.B1.D0.B5.D0.BD.D0.BD.D0.BE.D1.81.D1.82.D0.B8_.D0.B0.D0.BB.D0.B3.D0.BE.D1.80.D0.B8.D1.82.D0.BC.D0.B0_.2B_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B0"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%B0%D1%8F_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB&amp;action=edit&amp;section=3" title="Править секцию: Особенности алгоритма + программа">править</a>]</span> <span class="mw-headline">Особенности алгоритма + программа</span></h2>
<p>Так как поле двумерно, придется создавать двумерную древовидную структуру. Ее можно синтезировать из двух одномерных - для оси X и для оси Y. При этом возникают два нюанса: каждый указатель теперь указывает не на два, а на четыре указателя уровнем ниже. Указатель, в зависимости от уровня охватывает квадратную площадь, а подъем вверх завершается только тогда, когда искомый блок окажется в пределах этой площади (оба приращения будут лежать в диапазоне блока для каждой оси). Вот организмы: <a href="c5aj42ec.png" class="internal" title="Life-Locomotive.png">"паровоз"</a> и <a href="ukyx2srm.png" class="internal" title="Life-Virus.png">"вирус"</a>.
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #ffee00">;Указатель и одновременно ячейка</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Type</span> ptr<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Field</span> nxt.ptr<span style=" ">&#91;</span><span style="color: #33ffdd;">3</span><span style=" ">&#93;</span> <span style="color: #ffee00">;следующие указатели в иерархии</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Field</span> prev.ptr <span style="color: #ffee00">;предыдущий указатель в иерархии</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Field</span> prevpos <span style="color: #ffee00">;расположение предыдущего указателя</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Field</span> neig.ptr<span style=" ">&#91;</span><span style="color: #33ffdd;">7</span><span style=" ">&#93;</span> <span style="color: #ffee00">;адреса соседей (для клетки)</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Field</span> x,y,nq<span style="color: #ffee00">; координаты и количество соседей</span><br />
<span style="color: #aaffff; font-weight: bold;">End Type</span><br />
<br />
<span style="color: #ffee00">;Указатели на ячейки, для которых возможно изменение состояния</span><br />
<span style="color: #aaffff; font-weight: bold;">Type</span> chang<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Field</span> p.ptr<br />
<span style="color: #aaffff; font-weight: bold;">End Type</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Const</span> loadorg$=<span style="color: #00ff66;">&quot;Life-Locomotive.png&quot;</span><br />
<span style="color: #ffee00">;Const loadorg$=&quot;Life-Virus.png&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">Const</span> xres=<span style="color: #33ffdd;">800</span>,yres=<span style="color: #33ffdd;">600</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Global</span> cellq, scrx, scry, ib<br />
<br />
<span style="color: #ffee00">;Разбивка массива указателей на 3 списка</span><br />
<span style="color: #aaffff; font-weight: bold;">Dim</span> pmark.ptr<span style=" ">&#40;</span><span style="color: #33ffdd;">3</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">3</span><br />
&nbsp;pmark<span style=" ">&#40;</span>n<span style=" ">&#41;</span>=<span style="color: #aaffff; font-weight: bold;">New</span> ptr<br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Graphics</span> xres,yres<br />
<span style="color: #aaffff; font-weight: bold;">SetFont</span> <span style="color: #aaffff; font-weight: bold;">LoadFont</span> <span style=" ">&#40;</span><span style="color: #00ff66;">&quot;Arial cyr&quot;</span>,<span style="color: #33ffdd;">14</span><span style=" ">&#41;</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Dim</span> change<span style=" ">&#40;</span><span style="color: #33ffdd;">24</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Read</span> m$<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> nn=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">8</span><br />
&nbsp; change<span style=" ">&#40;</span>n*<span style="color: #33ffdd;">16</span>+nn<span style=" ">&#41;</span>=<span style="color: #aaffff; font-weight: bold;">Sgn</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Instr</span><span style=" ">&#40;</span>m$,nn<span style=" ">&#41;</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Data</span> <span style="color: #00ff66;">&quot;3&quot;</span>,<span style="color: #00ff66;">&quot;0145678&quot;</span><br />
<br />
i=<span style="color: #aaffff; font-weight: bold;">CreateImage</span><span style=" ">&#40;</span>xres,yres<span style=" ">&#41;</span><br />
ib=<span style="color: #aaffff; font-weight: bold;">ImageBuffer</span><span style=" ">&#40;</span>i<span style=" ">&#41;</span><br />
<br />
i2=<span style="color: #aaffff; font-weight: bold;">LoadImage</span><span style=" ">&#40;</span>loadorg$<span style=" ">&#41;</span><br />
ib2=<span style="color: #aaffff; font-weight: bold;">ImageBuffer</span><span style=" ">&#40;</span>i2<span style=" ">&#41;</span><br />
xsiz=<span style="color: #aaffff; font-weight: bold;">ImageWidth</span><span style=" ">&#40;</span>i2<span style=" ">&#41;</span><br />
ysiz=<span style="color: #aaffff; font-weight: bold;">ImageHeight</span><span style=" ">&#40;</span>i2<span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> xsiz<span style="color: #33ffdd;">-1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> ysiz<span style="color: #33ffdd;">-1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> <span style="color: #aaffff; font-weight: bold;">ReadPixel</span><span style=" ">&#40;</span>x,y,ib2<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">255</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Первая встреченная ячейка - отправная точка для создания остальных</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> cellq=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp; cell.ptr=<span style="color: #aaffff; font-weight: bold;">New</span> ptr<br />
&nbsp; &nbsp; ptrq=ptrq<span style="color: #33ffdd;">+1</span><br />
&nbsp; &nbsp; cell\x=<span style="color: #33ffdd;">400</span><br />
&nbsp; &nbsp; cell\y=<span style="color: #33ffdd;">300</span><br />
&nbsp; &nbsp; xx=x<br />
&nbsp; &nbsp; yy=y<br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp; &nbsp;newborn findcell<span style=" ">&#40;</span>cell,x-xx,y-yy<span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">FreeImage</span> i2<br />
<br />
<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp;<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">DrawBlock</span> i,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
&nbsp;gen=gen<span style="color: #33ffdd;">+1</span><br />
&nbsp;<span style="color: #ffee00">;Курсор мыши перемещается в центр экрана (чтобы не цепляться за края)</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">MoveMouse</span> xres <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span>,yres <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> cellq=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Все ячейки, подверженные изменениям, переещаются в список №2</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> ch.chang=<span style="color: #aaffff; font-weight: bold;">Each</span> chang<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> change<span style=" ">&#40;</span>ch\p\nq<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Insert</span> ch\p <span style="color: #aaffff; font-weight: bold;">After</span> pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Delete</span> <span style="color: #aaffff; font-weight: bold;">Each</span> chang<br />
<br />
&nbsp;<span style="color: #ffee00">;Изменяем состояние всех клеток из списка №2</span><br />
&nbsp;cell=pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; cell=<span style="color: #aaffff; font-weight: bold;">After</span> cell<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> cell=pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">3</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> cell\nq&lt;<span style="color: #33ffdd;">16</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;newborn cell<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Else</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Для всех соседей - уменьшение их счетчика соседей</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">7</span><br />
&nbsp; &nbsp; cell2.ptr=cell\neig<span style=" ">&#91;</span>n<span style=" ">&#93;</span><br />
&nbsp; &nbsp; cell2\nq=cell2\nq<span style="color: #33ffdd;">-1</span><br />
&nbsp; &nbsp; <span style="color: #ffee00">;Занесение соседа в список ячеек, которые, возможно, изменят свое состояние</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> change<span style=" ">&#40;</span>cell2\nq<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> ch.chang=<span style="color: #aaffff; font-weight: bold;">New</span> chang: ch\p=cell2<br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Выключение бита заполненности</span><br />
&nbsp; &nbsp;cell\nq=cell\nq <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">15</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">WritePixel</span> scrx+cell\x,scry+cell\y,<span style="color: #33ffdd;">0</span>,ib<br />
&nbsp; &nbsp;cellq=cellq<span style="color: #33ffdd;">-1</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Занесение обработанной ячейки в список потенциально изменяющихся ячеек</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> change<span style=" ">&#40;</span>cell\nq<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> ch.chang=<span style="color: #aaffff; font-weight: bold;">New</span> chang: ch\p=cell<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Forever</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Все ячейки из списка №2 переходят в список №1 (стабилизируются)</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Insert</span> pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">2</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Before</span> pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">3</span><span style=" ">&#41;</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Определяется смещение курсора мыши</span><br />
&nbsp;dx=<span style="color: #aaffff; font-weight: bold;">MouseX</span><span style=" ">&#40;</span><span style=" ">&#41;</span>-xres <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;dy=<span style="color: #aaffff; font-weight: bold;">MouseY</span><span style=" ">&#40;</span><span style=" ">&#41;</span>-yres <span style="color: #aaffff; font-weight: bold;">Sar</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #ffee00">;Если курсор сместился, то происходит перерисовка клеток (весь 1-й список)</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> dx&lt;&gt;<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Or</span> dy&lt;&gt;<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; scrx=scrx+dx<br />
&nbsp; scry=scry+dy<br />
<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">SetBuffer</span> ib<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Cls</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">SetBuffer</span> <span style="color: #aaffff; font-weight: bold;">FrontBuffer</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<br />
&nbsp; cell=pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; &nbsp;cell=<span style="color: #aaffff; font-weight: bold;">After</span> cell<br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> cell=pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">2</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> cell\nq <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">16</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">WritePixel</span> scrx+cell\x,scry+cell\y,<span style="color: #33ffdd;">-1</span>,ib<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Forever</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">SetBuffer</span> ib<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">100</span>,<span style="color: #33ffdd;">36</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #00ff66;">&quot;FPS: &quot;</span><span style="color: #33ffdd;">+1000.0</span>/<span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span>-fps<span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">12</span>,<span style="color: #00ff66;">&quot;Клеток: &quot;</span>+cellq<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Text</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">24</span>,<span style="color: #00ff66;">&quot;Поколение: &quot;</span>+gen<br />
&nbsp;fps=<span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">SetBuffer</span> <span style="color: #aaffff; font-weight: bold;">FrontBuffer</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
&nbsp;<br />
<span style="color: #aaffff; font-weight: bold;">Until</span> <span style="color: #aaffff; font-weight: bold;">KeyHit</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">End</span><br />
<br />
<span style="color: #ffee00">;Функция поиска ячейки в иерархии по отправной точке и смещению</span><br />
<span style="color: #ffee00">;Если ячейка не существует, она создается вместе с цепочкой указателей</span><br />
<span style="color: #aaffff; font-weight: bold;">Function</span> findcell.ptr<span style=" ">&#40;</span>cell.ptr,x,y<span style=" ">&#41;</span><br />
<span style="color: #ffee00">;Если смещение нулевое, то результат - отправная точка</span><br />
<span style="color: #aaffff; font-weight: bold;">If</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">And</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Return</span> cell<br />
<span style="color: #ffee00">;Запоминаем координаты искомой ячейки (на случай, если ее придется создать)</span><br />
xx=x+cell\x<br />
yy=y+cell\y<br />
pmax=<span style="color: #33ffdd;">1</span> <span style="color: #ffee00">;Счетчик уровня в иерархии</span><br />
<span style="color: #ffee00">;Первый этап - подъем вверх</span><br />
<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp;<span style="color: #ffee00">;Добавление нового указателя сверху, если достигнута вершина иерархии</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> cell\prev=<span style="color: #aaffff; font-weight: bold;">Null</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; p.ptr=<span style="color: #aaffff; font-weight: bold;">New</span> ptr<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Insert</span> p <span style="color: #aaffff; font-weight: bold;">After</span> pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">0</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #ffee00">;Позиция определяется положением искомой ячейки</span><br />
&nbsp; pos=<span style=" ">&#40;</span>x&lt;<span style="color: #33ffdd;">0</span><span style=" ">&#41;</span>+<span style=" ">&#40;</span>y&lt;<span style="color: #33ffdd;">0</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">1</span><br />
&nbsp; p\nxt<span style=" ">&#91;</span>pos<span style=" ">&#93;</span>=cell<br />
&nbsp; cell\prev=p<br />
&nbsp; cell\prevpos=pos<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Else</span><br />
&nbsp; <span style="color: #ffee00">;Иначе - переход на более высокий уровень в иерархии</span><br />
&nbsp; pos=cell\prevpos<br />
&nbsp; p.ptr=cell\prev<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;<span style="color: #ffee00">;Изменение координат в соответствии с перемещением</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> pos <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">Then</span> x=x+pmax<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> pos <span style="color: #aaffff; font-weight: bold;">And</span> <span style="color: #33ffdd;">2</span> <span style="color: #aaffff; font-weight: bold;">Then</span> y=y+pmax<br />
&nbsp;<span style="color: #ffee00">;Повышение уровня</span><br />
&nbsp;pmax=pmax <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;cell=p<br />
&nbsp;<span style="color: #ffee00">;Выход, если достигнута точка, откуда можно спуститься до искомой</span><br />
<span style="color: #aaffff; font-weight: bold;">Until</span> x&gt;=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">And</span> y&gt;=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">And</span> x&lt;pmax <span style="color: #aaffff; font-weight: bold;">And</span> y&lt;pmax<br />
<br />
<span style="color: #ffee00">;Второй этап - спуск</span><br />
<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp;<span style="color: #ffee00">;Понижение уровня</span><br />
&nbsp;pmax=pmax <span style="color: #aaffff; font-weight: bold;">Shr</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #ffee00">;Определение направления</span><br />
&nbsp;pos=<span style=" ">&#40;</span><span style=" ">&#40;</span>x <span style="color: #aaffff; font-weight: bold;">And</span> pmax<span style=" ">&#41;</span>=pmax<span style=" ">&#41;</span>+<span style=" ">&#40;</span><span style=" ">&#40;</span>y <span style="color: #aaffff; font-weight: bold;">And</span> pmax<span style=" ">&#41;</span>=pmax<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Shl</span> <span style="color: #33ffdd;">1</span><br />
<br />
&nbsp;<span style="color: #ffee00">;Создание нового указателя, если ветвь отсутствует</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> cell\nxt<span style=" ">&#91;</span>pos<span style=" ">&#93;</span>=<span style="color: #aaffff; font-weight: bold;">Null</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; p.ptr=<span style="color: #aaffff; font-weight: bold;">New</span> ptr<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Insert</span> p <span style="color: #aaffff; font-weight: bold;">After</span> pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">0</span><span style=" ">&#41;</span><br />
&nbsp; cell\nxt<span style=" ">&#91;</span>pos<span style=" ">&#93;</span>=p<br />
&nbsp; p\prev=cell<br />
&nbsp; p\prevpos=pos<br />
&nbsp; <span style="color: #ffee00">;Если создаем клетку (указатель 1-го уровня), то перемещаем ее в список №1 и</span><br />
&nbsp; <span style="color: #ffee00">; присваиваем запомненные координаты</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> pmax=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">Insert</span> p <span style="color: #aaffff; font-weight: bold;">After</span> pmark<span style=" ">&#40;</span><span style="color: #33ffdd;">1</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp;p\x=xx<br />
&nbsp; &nbsp;p\y=yy<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;cell=cell\nxt<span style=" ">&#91;</span>pos<span style=" ">&#93;</span><br />
&nbsp;<span style="color: #ffee00">;Если достигнут низ иерархии (уровень клеток) - выход</span><br />
<span style="color: #aaffff; font-weight: bold;">Until</span> pmax=<span style="color: #33ffdd;">1</span><br />
<span style="color: #aaffff; font-weight: bold;">Return</span> cell<br />
<span style="color: #aaffff; font-weight: bold;">End Function</span><br />
<br />
<span style="color: #ffee00">;Функция рождения новой клетки</span><br />
<span style="color: #aaffff; font-weight: bold;">Function</span> newborn<span style=" ">&#40;</span>cell.ptr<span style=" ">&#41;</span><br />
<span style="color: #ffee00">;Поиск, запоминание соседей и увеличение их счетчика количества соседей</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> xx=<span style="color: #33ffdd;">-1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> yy=<span style="color: #33ffdd;">-1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> xx <span style="color: #aaffff; font-weight: bold;">Or</span> yy <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp;cell2.ptr=findcell<span style=" ">&#40;</span>cell,xx,yy<span style=" ">&#41;</span><br />
&nbsp; &nbsp;cell2\nq=cell2\nq<span style="color: #33ffdd;">+1</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Занесение соседа в список ячеек, которые, возможно, изменят свое состояние</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> change<span style=" ">&#40;</span>cell2\nq<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> ch.chang=<span style="color: #aaffff; font-weight: bold;">New</span> chang: ch\p=cell2<br />
&nbsp; &nbsp;cell\neig<span style=" ">&#91;</span>n<span style=" ">&#93;</span>=cell2<br />
&nbsp; &nbsp;n=n<span style="color: #33ffdd;">+1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #ffee00">;Включение бита заполненности</span><br />
cell\nq=cell\nq <span style="color: #aaffff; font-weight: bold;">Or</span> <span style="color: #33ffdd;">16</span><br />
<span style="color: #ffee00">;Занесение обработанной ячейки в список потенциально изменяющихся ячеек</span><br />
<span style="color: #aaffff; font-weight: bold;">If</span> change<span style=" ">&#40;</span>cell\nq<span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> ch.chang=<span style="color: #aaffff; font-weight: bold;">New</span> chang: ch\p=cell<br />
<span style="color: #aaffff; font-weight: bold;">WritePixel</span> cell\x+scrx,cell\y+scry,<span style="color: #33ffdd;">-1</span>,ib<br />
cellq=cellq<span style="color: #33ffdd;">+1</span><br />
</p>
<span style="color: #aaffff; font-weight: bold;">End Function</span></div>
<div align="right"><a href="http://blitzetcetera.org/images/3/3a/Unlimited_Life.zip" class="internal" title="Unlimited Life.zip">скачать архив с файлами к статье</a></div>
<hr />
<p>Автор: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:Matt_Merkulov" title="Участник:Matt Merkulov">Матвей Меркулов</a> (E-mail: MattMerk@mail.ru, ICQ: 392-274-050)
</p><!-- 
Pre-expand include size: 7742 bytes
Post-expand include size: 376 bytes
Template argument size: 25 bytes
Maximum: 2097152 bytes
-->

<!-- Saved in parser cache with key db1:pcache:idhash:589-0!1!0!!ru!2 and timestamp 20071110033108 -->
<div class="printfooter">
Получено с <a href="81o39e-s.html">http://blitzetcetera.org/index.php/%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%B0%D1%8F_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%91%D0%B5%D1%81%D0%BA%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D0%B0%D1%8F_%C2%AB%D0%96%D0%B8%D0%B7%D0%BD%D1%8C%C2%BB by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>