<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%9B%D0%B0%D0%B1%D0%B8%D1%80%D0%B8%D0%BD%D1%82%D1%8B by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Лабиринты,Matt Merkulov" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Лабиринты — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Лабиринты";
var wgTitle = "Лабиринты";
var wgAction = "view";
var wgArticleId = "636";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3544";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Лабиринты">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Лабиринты</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<p align="right">
"Лабиринты  -   архитектурные сооружения со сложными коридорами,
которые строились для  того, чтобы приводить в трепет  непосвященных..."
</p>
<p align="right">
Мартин Гарднер.
</p>
<p>Слово  "лабиринт"  греческого происхождения, и переводится как подземные ходы или подземелье. В природе существует много подземных пещер  с  огромным  количеством ходов, перекрестков и тупиков. Есть примеры и других  природных  лабиринтов, вот  скажем, шхеры - множество мелких островков, составляющих единую группу. В  шхерах  десятки   фарватеров, проливов, заливов,  бухточек,  в которых нетрудно заблудиться.
</p><p>Но существуют лабиринты и искусственного происхождения, созданные человеком вольно или  невольно. Примером невольного создания лабиринтов  являются  различные  шахты,  рудники, каменоломни, называемые  общим  словом "Катакомбы". Чаще всего под словом "Лабиринт" мы  подразумеваем искусственное,  специально  созданное, чрезвычайно сложное  сооружение.  Происхождение   таких "Лабиринтов"  довольно  древнее.
</p><p>Например, Геродот описывает египетский Лабиринт, в котором  было 5000 комнат. Сначала Лабиринты  носили  религиозно-мистический характер, но  в  более  поздние  времена  стали   предметом развлечений, перейдя  в  сады  и парки  в  виде  живой   изгороди сложной  конфигурации.  В наше время,  по  утверждению  Мартина Гарднера, "существует две области науки, в  которых  интерес  к Лабиринтам  остается   неизменно высоким: психология и  конструирование вычислительных машин."
</p><p>Однако, существует  еще  одна область человеческой деятельности, в которой Лабиринты  являются необходимым атрибутом  -  это компьютерные игры.  Действительно, почти все игры жанров Adventure, Arcade и  Arcade/Adventure используют Лабиринты. Встречаются они и в других  жанрах:  Puzzle, Action, изредка в Simulations. В связи с этим у  пользователя компьютера  появляются  две задачи: прохождение Лабиринтов в игровых  программах  и  создание Лабиринтов для "своих" программ.
</p><p>Задача "о  прохождении  Лабиринта" распадается на пару  других: Техническую  и  Логическую. Техническая часть состоит в том, чтобы  справиться  с  управлением своей  "марионетки", избежать столкновений с  "бяка-спрайтами" и не попасть в ловушки. Логическая часть - отыскание правильно-
го пути.
</p><p>Коль скоро задача логическая, то, очевидно,  должен  существовать алгоритм для ее решения.  С точки зрения математики, путь от входа до цели есть  топологический инвариант. Проще говоря, это означает: план  Лабиринта, нарисованный  на  куске резины, можно растянуть таким  образом, что
вход  и  цель  соединятся  одним прямым коридором.
</p><p>Проведя прямую линию по  этому коридору, мы получим кратчайший путь  до  цели.  Практически же, если у нас есть  план  Лабиринта, следует заштриховать (завалить) все  тупики.  Оставшаяся часть - путь (или несколько  путей) к цели. В  некоторых  играх можно видеть весь Лабиринт целиком (иногда его план). Но, обычно, в таких играх цель  игры  не прохождение Лабиринта, а собирание предметов.  Или же Лабиринт снабжен "переключателями" в  виде  закрывающихся-открывающихся дверей, падающих  решеток, разводных  мостов  и т.д., которые способны изменять конфигурацию Лабиринта.  Задача - выбрать момент  для  прохождения,  когда "переключатели" в нужном положении (или переключить их самому),
чтобы достичь цели.
</p><p>Итак, если на экране весь Лабиринт, то отыскание верного пути не  представляет  трудностей. Другое дело, если Лабиринт  разбит на множество экранов. Тогда, чтобы  отыскать  таким  способом путь, придется  составлять  план Лабиринта. А без плана?
</p><p>Здесь мы вплотную подходим  к вопросу о конфигурациях и  видах Лабиринтов. Прежде  всего  отметим, что Лабиринты  бывают  двух видов:  двух  или   трехмерными, т.е. одно или многоэтажными. При этом двухмерная графика игры  необязательно  означает   двухмерный Лабиринт, и, наоборот, часто
трехмерная графика  совмещена  с двухмерным Лабиринтом. При двухмерной графике изображение Лабиринта может быть  горизонтальным (смотрим сверху) или  вертикальным (смотрим сбоку).  При  трехмерной графике  тоже  существуют два способа изображения  (обычно только части лабиринта): изометрия и фронтальная проекция.
</p><p>Теперь о  конфигурации  Лабиринта. Специалисты различают три конфигурации:  Лабиринты   односвязные, Лабиринты  многосвязные без "петли" вокруг цели  и Лабиринты  многосвязные  с замкнутой "петлей" вокруг цели.  Односвязными  называются  Лабиринты,  не содержащие замкнутых маршрутов и не имеющие отдельно стоящих стенок. Лабиринты с отдельно  стоящими  стенками  и  с  замкнутыми маршрутами называются многосвязными.  При этом, если  замкнутый маршрут не проходит вокруг цели, то Лабиринт второй конфигурации; если же  цель  можно  обойти  по
замкнутому маршруту, значит, Лабиринт третьей конфигурации.
</p><p>В Лабиринтах первой и  второй конфигурации всегда  можно  достичь  цели, если  двигаться,  все время  касаясь рукой   стенки. Правда, этот путь не  будет  самым коротким. В Лабиринте третьей конфигурации  таким  способом никогда  не  достичь  цели.   Вы просто обойдете ее по наибольшему замкнутому маршруту. Часто мы вообще  не  знаем, с  Лабиринтом какой конфигурации  имеем  дело. Существует ли универсальный  алгоритм для прохождения любых Лабиринтов? Существует - Алгоритм Люка-Тремо:
</p>
<ul><li>На выходе туннеля к перекрестку и на входе с  перекрестка в туннель всегда  делаем  от метку с одной и той же стороны (например справа) по  ходу движения.
</li><li>От первого  перекрестка  идем по какому  угодно  пути, пока не достигнем или  нового  перекрестка, или  не  зайдем  в тупик. Тогда:
</li><li>Если  мы  зашли  в  тупик, то следует  вернуться  назад,  а пройденный  путь    отбросить (пункт 1), отметив его  дважды (вход-выход). От перекрестка идти в  другом  направлении.
</li><li>Если  мы  приходим  к  новому перекрестку, то  двигаемся  в любом   направлении,  отметив путь, по  которому  пришли, и путь, по которому уходим.
</li><li>Если мы приходим к  известному нам перекрестку не тем путем, которым уходили, то  немедленно  поворачивать  назад (не забыв пункт 1).
</li><li>Никогда не  ходите  по  пути, отмеченному дважды.
</li><li>Если больше нет путей без отметок, следует выбрать  путь, отмеченный одной меткой.
</li></ul>
<p>Я  думаю, что  этот  алгоритм поможет Вам в прохождении  Лабиринтов, хотя "ставить" метки  на экранах весьма проблематично.
</p><p>Теперь перейдем к  вопросу  о создании  Лабиринтов.  Не  будем касаться  проблем,  связанных  с ручной разработкой  и  хранением Лабиринтов в памяти  компьютера. Это очень трудоемкая работа.
</p><p>Попробуем смоделировать  процесс  возникновения   Лабиринта. Как возникает Лабиринт в природных условиях?  Под  воздействием воды, ветра, температурных условий,  эрозии  грунт  разрушается в  наиболее слабых местах, образуя ходы, тупики, перекрестки. С точки зрения  географии, направления создаваемых  туннелей  совершенно случайны. Обозначим направления  "размывания   грунта" цифрами 1-4 и  выберем  его случайно, используя функцию RAND.
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">800</span>,<span style="color: #33ffdd;">600</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">ClsColor</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
<span style="color: #aaffff; font-weight: bold;">Cls</span><br />
<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
Y = <span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Rnd</span> * <span style="color: #33ffdd;">24</span><span style=" ">&#41;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ffee00">; Координаты &quot;пробившегося источника&quot;</span><br />
X = <span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Rnd</span> * <span style="color: #33ffdd;">32</span><span style=" ">&#41;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">350</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ffee00">; Длительность процесса</span><br />
&nbsp;B = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">4</span><span style=" ">&#41;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ffee00">; Направление &quot;размывания&quot;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Select</span> B &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ffee00">; Подсчет координат &quot;нового туннеля&quot;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">1</span>: <span style="color: #aaffff; font-weight: bold;">If</span> Y &lt;&gt; <span style="color: #33ffdd;">0</span> &nbsp;<span style="color: #aaffff; font-weight: bold;">Then</span> Y = Y - <span style="color: #33ffdd;">1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">2</span>: <span style="color: #aaffff; font-weight: bold;">If</span> X &lt;&gt; <span style="color: #33ffdd;">31</span> <span style="color: #aaffff; font-weight: bold;">Then</span> X = X + <span style="color: #33ffdd;">1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">3</span>: <span style="color: #aaffff; font-weight: bold;">If</span> X &lt;&gt; <span style="color: #33ffdd;">21</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Y = Y + <span style="color: #33ffdd;">1</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">4</span>: <span style="color: #aaffff; font-weight: bold;">If</span> X &lt;&gt; <span style="color: #33ffdd;">0</span> &nbsp;<span style="color: #aaffff; font-weight: bold;">Then</span> X = X - <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End Select</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> X*<span style="color: #33ffdd;">25</span>,Y*<span style="color: #33ffdd;">25</span>,<span style="color: #33ffdd;">25</span>,<span style="color: #33ffdd;">25</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ffee00">;&quot;Размываем&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>То, что получилось на экране, мало походит  на  лабиринт.  Как говорится: "Процесс не пошел". "Грунт"  оказался  достаточно "однородным", и туннелей не возникло.   Нарушим   "однородность грунта",  заменив  в   программе некоторые строки:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">800</span>,<span style="color: #33ffdd;">600</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">ClsColor</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
<span style="color: #aaffff; font-weight: bold;">Cls</span><br />
<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<br />
Y = <span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Rnd</span> * <span style="color: #33ffdd;">24</span><span style=" ">&#41;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ffee00">; Координаты &quot;пробившегося источника&quot;</span><br />
X = <span style="color: #aaffff; font-weight: bold;">Int</span><span style=" ">&#40;</span><span style="color: #aaffff; font-weight: bold;">Rnd</span> * <span style="color: #33ffdd;">32</span><span style=" ">&#41;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">350</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ffee00">; Длительность процесса</span><br />
&nbsp;B = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">4</span><span style=" ">&#41;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ffee00">; Направление &quot;размывания&quot;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Select</span> B &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ffee00">; Подсчет координат &quot;нового туннеля&quot;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">1</span>: <span style="color: #aaffff; font-weight: bold;">If</span> Y &gt; <span style="color: #33ffdd;">1</span> &nbsp; <span style="color: #aaffff; font-weight: bold;">Then</span> Y1 = Y - <span style="color: #33ffdd;">1</span>: Y = Y - <span style="color: #33ffdd;">2</span>: X1=X<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">2</span>: <span style="color: #aaffff; font-weight: bold;">If</span> X &lt; <span style="color: #33ffdd;">30</span> <span style="color: #aaffff; font-weight: bold;">Then</span> X1 = X + <span style="color: #33ffdd;">1</span>: X = X + <span style="color: #33ffdd;">2</span>: Y1=Y<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">3</span>: <span style="color: #aaffff; font-weight: bold;">If</span> Y &lt; <span style="color: #33ffdd;">20</span> <span style="color: #aaffff; font-weight: bold;">Then</span> Y1 = Y + <span style="color: #33ffdd;">1</span>: Y = Y + <span style="color: #33ffdd;">2</span>: X1=X<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">4</span>: <span style="color: #aaffff; font-weight: bold;">If</span> X &gt; <span style="color: #33ffdd;">1</span> &nbsp;<span style="color: #aaffff; font-weight: bold;">Then</span> X1 = X - <span style="color: #33ffdd;">1</span>: X = X - <span style="color: #33ffdd;">2</span>: Y1=Y<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End Select</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> X*<span style="color: #33ffdd;">25</span>,Y*<span style="color: #33ffdd;">25</span>,<span style="color: #33ffdd;">25</span>,<span style="color: #33ffdd;">25</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ffee00">;&quot;Размываем&quot;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> X1*<span style="color: #33ffdd;">25</span>,Y1*<span style="color: #33ffdd;">25</span>,<span style="color: #33ffdd;">25</span>,<span style="color: #33ffdd;">25</span> &nbsp; &nbsp; &nbsp; &nbsp;<br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>Теперь результат  можно  считать  удовлетворительным. Сложность   Лабиринта можно  менять, изменяя  переменную цикла "N" и длину проходимого "штрека" за один  шаг.  Полученный  алгоритм  я называю "алгоритмом  проходки", которую  он действительно напоминает.  Выходящий Лабиринт  -  многосвязный. Можно ли с помощью  этого  алгоритма получить односвязный? Очевидно, да. Следует наложить  ограничения  (например, с  помощью
</p><p>функции GetColor), при  которых  невозможно  соединение   "штреков" между собой. Но при этом  возможен случай "сходящейся  спирали", в котором дальнейшая  "проходка" невозможна:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Maze01.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Maze01.gif" src="yf8574qp.gif" width="105" height="105" /></a></span></div></div>
<p>Тогда  следует  вернуться назад  до  того  момента, когда станет это возможным  хотя бы в одном направлении.  Поэтому придется  запоминать  координаты предыдущих позиций печати.  Если захотите, то проделайте это  сами, а мы рассмотрим другой алгоритм  генерирования  Лабиринтов.
</p><p>Назовем его  алгоритмом  "удаления перегородок".  Принцип работы ясен из названия. Сначала "строим" некоторое количество изолированных друг от друга "комнат", а затем удаляем перегородки между ними произвольным образом, но придерживаясь некоторых  ограничений:.
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">800</span>,<span style="color: #33ffdd;">600</span><br />
<br />
<span style="color: #ffee00">;&quot;Строим комнаты&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">ClsColor</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
<span style="color: #aaffff; font-weight: bold;">Cls</span><br />
<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">29</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> M = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">21</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> N * <span style="color: #33ffdd;">25</span>, M * <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span> <br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #ffee00">; Индексируем &nbsp;вертикальные и горизонтальные &quot;перегородки&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">Dim</span> A<span style=" ">&#40;</span><span style="color: #33ffdd;">14</span>,<span style="color: #33ffdd;">11</span><span style=" ">&#41;</span>: <span style="color: #aaffff; font-weight: bold;">Dim</span> B<span style=" ">&#40;</span><span style="color: #33ffdd;">15</span>,<span style="color: #33ffdd;">10</span><span style=" ">&#41;</span><br />
<span style="color: #ffee00">; Количество &quot;удаляемых&quot; вертикальных &quot;перегородок&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">105</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; <span style="color: #ffee00">;Определили индексы &quot;удаляемой&quot; перегородки</span><br />
&nbsp; I = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">14</span><span style=" ">&#41;</span><br />
&nbsp; J = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">11</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #ffee00">; Проверим, не удалялась ли &quot;перегородка&quot; раньше, и если &quot;удалялась&quot;, то</span><br />
&nbsp; <span style="color: #ffee00">; назначим другие индексы.</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> A<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Forever</span><br />
&nbsp;<span style="color: #ffee00">; Отметка об удалении &quot;перегородки&quot;</span><br />
&nbsp;A<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #ffee00">; &quot;Удаление перегородки&quot;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>I * <span style="color: #33ffdd;">2</span> - <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> * <span style="color: #33ffdd;">25</span>, J * <span style="color: #33ffdd;">2</span> * <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span><br />
&nbsp;<span style="color: #ffee00">; Переход к следующей &quot;перегородке&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #ffee00">; Аналогично &quot;удаляем перегородки&quot;, стоящие горизонтально</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">100</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; <span style="color: #ffee00">;Определили индексы &quot;удаляемой&quot; перегородки</span><br />
&nbsp; I = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">15</span><span style=" ">&#41;</span><br />
&nbsp; J = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">10</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> B<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Forever</span><br />
&nbsp;B<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> I * <span style="color: #33ffdd;">2</span> * <span style="color: #33ffdd;">25</span>, <span style=" ">&#40;</span>J * <span style="color: #33ffdd;">2</span> - <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> * <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>Ограничения, которые  мы  накладывали в этой  программе, это количество удаленных  вертикальных и горизонтальных  "перегородок". При этом мы также следили, чтобы ни одна  "перегородка"  не  удалялась  больше  одного  раза. Можно наложить и другие  ограничения.  Например, ограничим число входов-выходов в каждой  комнате:
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">800</span>,<span style="color: #33ffdd;">600</span><br />
<br />
<span style="color: #ffee00">;&quot;Строим комнаты&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">ClsColor</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
<span style="color: #aaffff; font-weight: bold;">Cls</span><br />
<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">29</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> M = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">21</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> N * <span style="color: #33ffdd;">25</span>, M * <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span> <br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #ffee00">; Индексирование &quot;перегородок&quot; и &quot;комнат&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">Dim</span> A<span style=" ">&#40;</span><span style="color: #33ffdd;">15</span>,<span style="color: #33ffdd;">11</span><span style=" ">&#41;</span>: <span style="color: #aaffff; font-weight: bold;">Dim</span> G<span style=" ">&#40;</span><span style="color: #33ffdd;">14</span>,<span style="color: #33ffdd;">11</span><span style=" ">&#41;</span>: <span style="color: #aaffff; font-weight: bold;">Dim</span> V<span style=" ">&#40;</span><span style="color: #33ffdd;">15</span>,<span style="color: #33ffdd;">10</span><span style=" ">&#41;</span><br />
<span style="color: #ffee00">; Количество &quot;удаляемых&quot; &quot;перегородок&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> N = <span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">205</span><br />
&nbsp;<span style="color: #ffee00">;Какую &quot;перегородку&quot; удалять, вертикальную или горизонтальную</span><br />
&nbsp;B = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>, <span style="color: #33ffdd;">2</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> B=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">;Определили перегородку для удаления:</span><br />
&nbsp; &nbsp;I = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">14</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp;J = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">11</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #ffee00">; Если она удалена, то будем искать другую.</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> G<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp; <span style="color: #ffee00">; Если соединяемые комнаты имеют по три входа, то ищем другую перегородку.</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> A<span style=" ">&#40;</span>I + <span style="color: #33ffdd;">1</span>,J<span style=" ">&#41;</span> &lt; <span style="color: #33ffdd;">3</span> <span style="color: #aaffff; font-weight: bold;">And</span> A<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> &lt; <span style="color: #33ffdd;">3</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Forever</span><br />
&nbsp; <span style="color: #ffee00">; &quot;Удалили перегородку&quot;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> I * <span style="color: #33ffdd;">2</span> * <span style="color: #33ffdd;">25</span>, <span style=" ">&#40;</span>J * <span style="color: #33ffdd;">2</span> - <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> * <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span><br />
&nbsp; <span style="color: #ffee00">; Отмечаем удаленную &quot;перегородку&quot; и соединенные &quot;комнаты&quot;</span><br />
&nbsp; G<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">1</span>: A<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = A<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> + <span style="color: #33ffdd;">1</span>: A<span style=" ">&#40;</span>I + <span style="color: #33ffdd;">1</span>,J<span style=" ">&#41;</span> = &nbsp;A<span style=" ">&#40;</span>I + <span style="color: #33ffdd;">1</span>,J<span style=" ">&#41;</span> + <span style="color: #33ffdd;">1</span><br />
&nbsp; <span style="color: #ffee00">; Переходим к следующему удалению.</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Else</span><br />
&nbsp; <span style="color: #ffee00">; Аналогично действуем при удалении горизонтальных &quot;перегородок&quot;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; &nbsp;I = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">15</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp;J = <span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">1</span>,<span style="color: #33ffdd;">10</span><span style=" ">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">If</span> V<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span><br />
&nbsp; &nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> A<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> &lt; <span style="color: #33ffdd;">3</span> <span style="color: #aaffff; font-weight: bold;">And</span> A<span style=" ">&#40;</span>I,J + <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> &lt; <span style="color: #33ffdd;">3</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Exit</span><br />
&nbsp; &nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Forever</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>I * <span style="color: #33ffdd;">2</span> - <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> * <span style="color: #33ffdd;">25</span>, J * <span style="color: #33ffdd;">2</span> * <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span>, <span style="color: #33ffdd;">25</span><br />
&nbsp; V<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = <span style="color: #33ffdd;">1</span>: V<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> = V<span style=" ">&#40;</span>I,J<span style=" ">&#41;</span> + <span style="color: #33ffdd;">1</span>: A<span style=" ">&#40;</span>I,J + <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> = &nbsp;A<span style=" ">&#40;</span>I,J + <span style="color: #33ffdd;">1</span><span style=" ">&#41;</span> + <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">End</span> <span style="color: #aaffff; font-weight: bold;">If</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span> <br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>Лабиринт,   полученный этой программой, более "изящный", чем в  предыдущем  случае, но  программа работает  немного  медленнее.  А вообще-то, чем больше наложенных  ограничений, тем  медленнее работает программа. Полученный  алгоритм - многосвязный. Для построения односвязных Лабиринтов  больше  подходит алгоритм "устанавливаемых  перегородок". Он значительно  проще, а главное, работает намного быстрее. Суть алгоритма  в  следующем: сначала " строим" несколько изолированных друг от друга "коридоров", затем ставим в них перегородки, одновременно соединяя коридоры  между  собой: 
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span><br />
<br />
<span style="color: #ffee00">; Строим коридоры</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">21</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>*n,<span style="color: #33ffdd;">600</span>,<span style="color: #33ffdd;">20</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">420</span><br />
<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">620</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">420</span><br />
<br />
<span style="color: #ffee00">;Количество &quot;перегородок&quot; между &quot;коридорами&quot;</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">9</span><br />
&nbsp;<span style="color: #ffee00">;Определим количество устанавливаемых &quot;перегородок&quot; в одном &quot;коридоре&quot;</span><br />
&nbsp;k=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">4</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #ffee00">;Длина участков между этими &quot;перегородками&quot;</span><br />
&nbsp;l=<span style="color: #aaffff; font-weight: bold;">Floor</span><span style=" ">&#40;</span><span style=" ">&#40;</span><span style="color: #33ffdd;">30</span>-k<span style=" ">&#41;</span>/k<span style=" ">&#41;</span><br />
&nbsp;<span style="color: #ffee00">;Установка &quot;перегородок&quot; и соединение &quot;коридоров&quot; между собой.</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> m=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> k<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Repeat</span><br />
&nbsp; &nbsp;b=<span style=" ">&#40;</span>l<span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span>*<span style=" ">&#40;</span>m<span style="color: #33ffdd;">-1</span><span style=" ">&#41;</span>+<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span>l<span style="color: #33ffdd;">-3</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Until</span> b&lt;=<span style="color: #33ffdd;">28</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>b<span style="color: #33ffdd;">+2</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>n*<span style="color: #33ffdd;">2</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>b<span style="color: #33ffdd;">+2</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>n*<span style="color: #33ffdd;">2</span><span style="color: #33ffdd;">-1</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> b*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>n*<span style="color: #33ffdd;">2</span><span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">40</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> m=k <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>b<span style="color: #33ffdd;">+3</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>n*<span style="color: #33ffdd;">2</span><span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">40</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">0</span><br />
<span style="color: #ffee00">;Делаем вход</span><br />
y=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">10</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">40</span>*y,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
<span style="color: #ffee00">;Делаем выход</span><br />
y=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">10</span><span style=" ">&#41;</span><br />
<span style="color: #aaffff; font-weight: bold;">Rect</span> <span style="color: #33ffdd;">620</span>,<span style="color: #33ffdd;">40</span>*y,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>Программа может быть  использована  в  играх  типа "Гонки по  Лабиринту". Можно ли с помощью  алгоритма  "устанавливаемых  перегородок" получить многосвязный  "Лабиринт"? Нетрудно  увидеть,  что  если немного увеличить число устанавливаемых перегородок и  сделать несколько  "лишних"   соединений между  коридорами, то  получится искомый результат.  Оставлю  это Вам.
</p><p>А вместо этого предлагаю программу с тем же  алгоритмом  для многосвязного Лабиринта, но применительно к  векторной  графике
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span><br />
m=<span style="color: #33ffdd;">1</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> r=<span style="color: #33ffdd;">16</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">192</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">16</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">19</span><br />
&nbsp; b=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">3</span><span style=" ">&#41;</span><br />
&nbsp; x1=r*<span style="color: #aaffff; font-weight: bold;">Cos</span><span style=" ">&#40;</span><span style="color: #33ffdd;">18</span>*n<span style=" ">&#41;</span><br />
&nbsp; y1=r*<span style="color: #aaffff; font-weight: bold;">Sin</span><span style=" ">&#40;</span><span style="color: #33ffdd;">18</span>*n<span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> b=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">And</span> m=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Goto</span> one<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> b=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Goto</span> two<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> b=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">And</span> <span style=" ">&#40;</span>m=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">Or</span> m=<span style="color: #33ffdd;">0</span><span style=" ">&#41;</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Goto</span> one<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> b=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">And</span> r&lt;&gt;<span style="color: #33ffdd;">16</span> <span style="color: #aaffff; font-weight: bold;">And</span> r&lt;&gt;<span style="color: #33ffdd;">192</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Goto</span> three<br />
&nbsp; .one<br />
&nbsp; x2=r*<span style="color: #aaffff; font-weight: bold;">Cos</span><span style=" ">&#40;</span><span style="color: #33ffdd;">18</span>*<span style=" ">&#40;</span>n<span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span><span style=" ">&#41;</span><br />
&nbsp; y2=r*<span style="color: #aaffff; font-weight: bold;">Sin</span><span style=" ">&#40;</span><span style="color: #33ffdd;">18</span>*<span style=" ">&#40;</span>n<span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Line</span> <span style="color: #33ffdd;">320</span>+x1,<span style="color: #33ffdd;">240</span>+y1,<span style="color: #33ffdd;">320</span>+x2,<span style="color: #33ffdd;">240</span>+y2<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Goto</span> three<br />
&nbsp; .two<br />
&nbsp; x3=<span style=" ">&#40;</span>r<span style="color: #33ffdd;">+16</span><span style=" ">&#41;</span>*<span style="color: #aaffff; font-weight: bold;">Cos</span><span style=" ">&#40;</span><span style="color: #33ffdd;">18</span>*n<span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span><br />
&nbsp; y3=<span style=" ">&#40;</span>r<span style="color: #33ffdd;">+16</span><span style=" ">&#41;</span>*<span style="color: #aaffff; font-weight: bold;">Sin</span><span style=" ">&#40;</span><span style="color: #33ffdd;">18</span>*n<span style="color: #33ffdd;">+1</span><span style=" ">&#41;</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">If</span> r=<span style="color: #33ffdd;">192</span> <span style="color: #aaffff; font-weight: bold;">Then</span> <span style="color: #aaffff; font-weight: bold;">Goto</span> three<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Line</span> <span style="color: #33ffdd;">320</span>+x1,<span style="color: #33ffdd;">240</span>+y1,<span style="color: #33ffdd;">320</span>+x3,<span style="color: #33ffdd;">240</span>+y3<br />
&nbsp; .three<br />
&nbsp; m=b<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>Я привожу  этот  листинг  без комментариев.  Следует, пожалуй, только пояснить, что  переменная "M" введена для запоминания предыдущего  результата  переменной по "B", чтобы  исключить  постановку двух перегородок подряд  и двойное  соединение  "коридоров" без перегородки.  Цель  Лабиринта - его центр. Лабиринт многосвязный, может получиться  второй или третьей конфигурации. 
</p><p>Теперь Вы знаете основные алгоритмы  генерирования  Лабиринтов.
</p><p>А теперь обратимся  к классической компьютерной игре "Snake", где змейка поедает яблоки, пытаясь не врезаться в препятствие и не запутаться в кольцах собственного тела. Надо сказать, что за последние несколько лет она встречалась мне три  раза в различных вариантах. "Snake" тоже  использует Лабиринт.  Так вот, Лабиринты для "Snake"а годятся  не любые, а только обладающие необходимыми  свойствами: они или совсем не должны иметь  тупиков, или тупики должны быть достаточно широки для маневра. Иначе Вам никогда не собрать  всех  "яблок" (лягушек, мышей и пр.).
</p><p>Что  касается "широких" тупиков, то такой Лабиринт построить  довольно легко,  сделав  все  коридоры  и комнаты двойной или тройной  ширины. А построить Лабиринт вообще  без тупиков?  Я  уверен, что сейчас Вы принялись  соображать, какую систему  ограничений  следует наложить на алгоритм и  какой  алгоритм  подходит  больше.
</p><p>Сразу  скажу  -  этот путь "гиблый". Никакой из  выше  перечисленных  алгоритмов  не  подойдет из-за  сложности   накладываемых ограничений. Нужен новый алгоритм.
</p><p>Коль скоро тупиков не  должно быть вообще, то давайте построим лабиринт из замкнутых коридоров, в которых нет тупиков  (они  закольцованы). Тогда и в  Лабиринте не могут появиться тупики.
</p><p>Итак, "Алгоритм замкнутых  коридоров":
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span><br />
<span style="color: #aaffff; font-weight: bold;">Color</span> <span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span>,<span style="color: #33ffdd;">255</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> m=<span style="color: #33ffdd;">1</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">30</span><br />
&nbsp;a=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">3</span>,<span style="color: #33ffdd;">12</span><span style=" ">&#41;</span><br />
&nbsp;x=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">32</span>-a<span style=" ">&#41;</span><br />
&nbsp;y=<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">0</span>,<span style="color: #33ffdd;">22</span>-a<span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> n=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> a<br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> x*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>y+n<span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>x+a<span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>y+n<span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>x+n<span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style=" ">&#40;</span>y+a<span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp; <span style="color: #aaffff; font-weight: bold;">Rect</span> <span style=" ">&#40;</span>x+n<span style=" ">&#41;</span>*<span style="color: #33ffdd;">20</span>,y*<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span>,<span style="color: #33ffdd;">20</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<br />
</p>
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span></div>
<p>Мы  использовали  в  качестве исходной фигуры замкнутого коридора квадрат, выбирая его размеры и координаты расположения  на плоскости произвольным  образом. Лабиринт имеет свободные "полости" и некоторые коридоры  увеличенной ширины. Это дает  возможность  свободного  маневра.  Вероятность того,  что  какой-либо квадрат останется  "отрезанным", зависит от переменной цикла "M". При достаточно большом ее значении  "отрезанных"  квадратов  не будет.  Конечно, исходной  фигурой для коридоров может быть  не только квадрат.  Подойдет  любая замкнутая фигура: прямоугольник, треугольник,  любой  многоугольник, окружность и т.п. Возможно, что в  своей  программе  Вы  используете не одну замкнутую фигуру, а некоторое их сочетание.
</p><p>И  вот  теперь, никак  нельзя обойти вопрос о "степени  свободы" Лабиринта. До сих пор мы генерировали Лабиринты  с  четырьмя степенями свободы, то есть  с возможностью движения в  четырех направлениях , так как для криволинейных фигур число степеней свободы вообще не определено (  =  бесконечности)).  Если в последнем алгоритме исходной фигурой  коридора будет  треугольник, то  степеней свободы будет  не  4, а  6:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Maze02.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Maze02.gif" src="vxewr3tq.gif" width="227" height="205" /></a></span></div></div>
<p>Для шестиугольника их  тоже  будет 6. Увеличение степени свободы Лабиринта неизбежно  ведет  к усложнению  системы   управления "марионеткой", поэтому  вряд  ли целесообразно  иметь  их  больше чем 8. Вопрос о степени  свободы Лабиринта связан напрямую с  задачей "о паркетах", то есть, заполнением плоскости (для нас экрана) многоугольными плитами. Если  все  плитки  - одинаковые правильные   многоугольники,  то возможно  всего   три   варианта "паркетов":  треугольники, квадраты, четырехугольники. Деформируя их, можно получить несколько иной  вид, например, прямоугольники:
</p>
<div class="center"><div class="floatnone"><span><a href="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Maze03.gif" class="image" title=""><img alt="" longdesc="http://blitzetcetera.org/index.php/%D0%98%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5:Maze03.gif" src="c1-qyagr.gif" width="325" height="125" /></a></span></div></div>
<p>Если  в  качестве исходного рисунка взять "паркет" не  из  четырехугольников, то,  используя  алгоритм  "удаляемых"  перегородок", получим Лабиринт  с  6  (шестью) степенями свободы. Все это относится к  двухмерным  Лабиринтам. Ясно, что в трехмерных  Лабиринтах степень свободы будет  всегда на 2 больше (вверх-вниз).
</p><p>Кроме трех перечисленных однородных "паркетов" существует еще 11  однородных, сочетающих  разные фигуры.  Возможно, они  тоже пригодны для наших  целей.  Тех, кто этим вопросом  заинтересуется, я отсылаю к книге Г.Штейнгауза "Математический калейдоскоп" (Библиотека "Квант", 1981 г.)
</p><p>Пожалуй, на этом стоит закончить. Думаю, что Вы поняли - Лабиринты  "такое  дело",  которое открывает огромное поле деятельности для пользователей  компьютеров с любым уровнем  подготовки, и  для  исследований, и  для программирования.  Остается  еще очень много незатронутых  вопросов (например, совмещенный скроллинг и генерация Лабиринта, генерирование трехмерных Лабиринтов и т.д.)
</p><p>На "десерт" приведу еще  один алгоритм генерирования  Лабиринтов, поражающий своей  простотой и сложностью выходящего  многосвязного, со степенью свободы  8, Лабиринта. В  среде  "Синклерманов", он известен  под  странным названием  "Комбикорм":
</p>
<div class="bb" style="font-family: monospace;background-color:#FFFFFF;border:1px dashed #CCCCCC;padding:10px;background-color:#225588;color:#FFFFFF;border:1px solid #003040;padding:10px;"><span style="color: #aaffff; font-weight: bold;">SeedRnd</span> <span style="color: #aaffff; font-weight: bold;">MilliSecs</span><span style=" ">&#40;</span><span style=" ">&#41;</span><br />
<p><span style="color: #aaffff; font-weight: bold;">Graphics</span> <span style="color: #33ffdd;">640</span>,<span style="color: #33ffdd;">480</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">1</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">31</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp; puttile x,y,<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">7</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">2</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">18</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">31</span><br />
&nbsp; puttile x,y,<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">7</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">For</span> y=<span style="color: #33ffdd;">19</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">20</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">For</span> x=<span style="color: #33ffdd;">0</span> <span style="color: #aaffff; font-weight: bold;">To</span> <span style="color: #33ffdd;">31</span> <span style="color: #aaffff; font-weight: bold;">Step</span> <span style="color: #33ffdd;">2</span><br />
&nbsp; puttile x,y,<span style="color: #aaffff; font-weight: bold;">Rand</span><span style=" ">&#40;</span><span style="color: #33ffdd;">7</span><span style=" ">&#41;</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Next</span><br />
<span style="color: #aaffff; font-weight: bold;">Line</span> <span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">624</span>,<span style="color: #33ffdd;">16</span><br />
<span style="color: #aaffff; font-weight: bold;">Line</span> <span style="color: #33ffdd;">624</span>,<span style="color: #33ffdd;">35</span>,<span style="color: #33ffdd;">624</span>,<span style="color: #33ffdd;">415</span><br />
<span style="color: #aaffff; font-weight: bold;">Line</span> <span style="color: #33ffdd;">35</span>,<span style="color: #33ffdd;">415</span>,<span style="color: #33ffdd;">624</span>,<span style="color: #33ffdd;">415</span><br />
<span style="color: #aaffff; font-weight: bold;">Line</span> <span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">16</span>,<span style="color: #33ffdd;">415</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">WaitKey</span>:<span style="color: #aaffff; font-weight: bold;">End</span><br />
<br />
<span style="color: #aaffff; font-weight: bold;">Function</span> puttile<span style=" ">&#40;</span>x,y,n<span style=" ">&#41;</span><br />
xx=x*<span style="color: #33ffdd;">19</span><span style="color: #33ffdd;">+16</span><br />
yy=y*<span style="color: #33ffdd;">19</span><span style="color: #33ffdd;">+16</span><br />
<span style="color: #aaffff; font-weight: bold;">Select</span> n<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">1</span>:<span style="color: #aaffff; font-weight: bold;">Line</span> xx,yy,xx,yy<span style="color: #33ffdd;">+19</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">2</span>:<span style="color: #aaffff; font-weight: bold;">Line</span> xx,yy,xx<span style="color: #33ffdd;">+19</span>,yy<br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">3</span>:<span style="color: #aaffff; font-weight: bold;">Line</span> xx<span style="color: #33ffdd;">+19</span>,yy,xx<span style="color: #33ffdd;">+19</span>,yy<span style="color: #33ffdd;">+19</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">4</span>:<span style="color: #aaffff; font-weight: bold;">Line</span> xx,yy<span style="color: #33ffdd;">+19</span>,xx<span style="color: #33ffdd;">+19</span>,yy<span style="color: #33ffdd;">+19</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">5</span>:<span style="color: #aaffff; font-weight: bold;">Line</span> xx,yy,xx<span style="color: #33ffdd;">+19</span>,yy<span style="color: #33ffdd;">+19</span><br />
&nbsp;<span style="color: #aaffff; font-weight: bold;">Case</span> <span style="color: #33ffdd;">6</span>:<span style="color: #aaffff; font-weight: bold;">Line</span> xx<span style="color: #33ffdd;">+19</span>,yy,xx,yy<span style="color: #33ffdd;">+19</span><br />
<span style="color: #aaffff; font-weight: bold;">End Select</span><br />
</p>
<span style="color: #aaffff; font-weight: bold;">End Function</span></div>
<p>ВСЕ. ЖЕЛАЮ ВАМ УСПЕХОВ. 
</p>
<div align="right"><a href="http://blitzetcetera.org/images/1/18/Maze.zip" class="internal" title="Maze.zip">скачать архив с файлами к статье</a></div>
<hr />
<p>Автор: Лыхин Д., г.Кемерово<br />
Компиляция: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:Matt_Merkulov" title="Участник:Matt Merkulov">Матвей Меркулов</a> (E-mail: MattMerk@mail.ru, ICQ: 392-274-050)<br />
Источник: ZX-ревю
</p><!-- 
Pre-expand include size: 8145 bytes
Post-expand include size: 716 bytes
Template argument size: 22 bytes
Maximum: 2097152 bytes
-->

<!-- Saved in parser cache with key db1:pcache:idhash:636-0!1!0!!ru!2 and timestamp 20071110033041 -->
<div class="printfooter">
Получено с <a href="bvuagmki.html">http://blitzetcetera.org/index.php/%D0%9B%D0%B0%D0%B1%D0%B8%D1%80%D0%B8%D0%BD%D1%82%D1%8B</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%9B%D0%B0%D0%B1%D0%B8%D1%80%D0%B8%D0%BD%D1%82%D1%8B by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>