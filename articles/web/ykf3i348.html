<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru" dir="ltr">	
<!-- Mirrored from localhost/index.php/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85 by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />				<meta name="keywords" content="Форматы данных,Matt Merkulov" />
		<link rel="shortcut icon" href="http://blitzetcetera.org/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://blitzetcetera.org/opensearch_desc.php" title="Blitz Et Cetera (Русский)" />
		<title>Форматы данных — Blitz Et Cetera</title>		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "bvih5rde.css?63"; /*]]>*/</style>		<link rel="stylesheet" type="text/css" media="print" href="gcxktlm6.css?63" />		<link rel="stylesheet" type="text/css" media="handheld" href="zumsslq_.css?63" />		<!--[if lt IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE50Fixes.css?63";</style><![endif]-->		<!--[if IE 5.5000]><style type="text/css">@import "/skins/OfflineNew/IE55Fixes.css?63";</style><![endif]-->		<!--[if IE 6]><style type="text/css">@import "/skins/OfflineNew/IE60Fixes.css?63";</style><![endif]-->		<!--[if IE 7]><style type="text/css">@import "/skins/OfflineNew/IE70Fixes.css?63";</style><![endif]-->		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?63"></script>		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->		<script type= "text/javascript">/*<![CDATA[*/
var skin = "OfflineNew";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgServer = "http://blitzetcetera.org/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Форматы_данных";
var wgTitle = "Форматы данных";
var wgAction = "view";
var wgArticleId = "764";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "ru";
var wgContentLanguage = "ru";
var wgBreakFrames = false;
var wgCurRevisionId = "3142";
/*]]>*/</script>
		<script type="text/javascript" src="2nq-6cel.js?63"><!-- wikibits js --></script>		<script type="text/javascript" src="http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>		<style type="text/css">/*<![CDATA[*/
@import "http://blitzetcetera.org/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=MediaWiki:OfflineNew.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://blitzetcetera.org/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000";
/*]]>*/</style>		<!-- Head Scripts -->	</head><body  class="mediawiki ns-0 ltr page-Форматы_данных">	<div id="globalWrapper">	<div id="logocontainer">		<table align="center">		  <tr>				<td id="blitzetclogo">				</td>			</tr>		</table>	</div>	<div id="magbar">	Журнал о программированнии на языках Blitz3D, BlitzMax, BlitzPlus	</div>		<div id="column-content">	<div id="content">		<a name="top" id="top"></a>				<div id="bodyContent">		<table cellspacing=0 cellpadding=0 width=100%>			<tr>			  <td class="leftside">				</td>				<td class="sheetbody">					<h1 class="sheet">Форматы данных</h1>			<h3 id="siteSub">Материал из Blitz Et Cetera.</h3>			<div id="contentSub"></div>			<!-- start content -->			<table id="toc" class="toc" summary="Содержание"><tr><td><div id="toctitle"><h2>Содержание</h2></div>
<ul>
<li class="toclevel-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1"><a href="#.D0.93.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B"><span class="tocnumber">2</span> <span class="toctext">Графические форматы</span></a>
<ul>
<li class="toclevel-2"><a href="#JPG_.28JPEG.29"><span class="tocnumber">2.1</span> <span class="toctext">JPG (JPEG)</span></a></li>
<li class="toclevel-2"><a href="#PNG_.28Portable_Network_Graphics.29"><span class="tocnumber">2.2</span> <span class="toctext">PNG (Portable Network Graphics)</span></a></li>
<li class="toclevel-2"><a href="#GIF_.28Graphics_Interchange_Format.29"><span class="tocnumber">2.3</span> <span class="toctext">GIF (Graphics Interchange Format)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#.D0.97.D0.B2.D1.83.D0.BA.D0.BE.D0.B2.D1.8B.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B"><span class="tocnumber">3</span> <span class="toctext">Звуковые форматы</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "показать"; var tocHideText = "убрать"; showTocToggle(); } </script>
<a name=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85&amp;action=edit&amp;section=1" title="Править секцию: Введение">править</a>]</span> <span class="mw-headline">Введение</span></h2>
<p>Я заметил, что многие программисты (даже опытные) совершенно не заботятся о хранении данных для программ. Например, видел такую вещь: каждый спрайт был сохранен в отдельном bmp-файле размером с экран. В итоге, данные занимали десяток мегабайт, когда могли - сотню килобайт. В наш век 100х-гиговых винчестеров, DVD и процессоров с частотой, измеряемой в гигагерцах, это, конечно, не столь критично, как раньше, а простая архивация всей игры даст вполне приемлемый для скачивания объем. Но некоторые форматы позволяют ужать данные гораздо более эффективно. Кроме того, не думаю, что стоит выставлять напоказ свою лень и непрофессионализм, потому что в программе и данных кто-нибудь да будет копаться (тем более, если доступны исходники). А если вы создадите сайт с рисунками в формате BMP, на него заходить, конечно, будут. Но только один раз, обалдев при этом от потраченого трафика.
</p>
<a name=".D0.93.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85&amp;action=edit&amp;section=2" title="Править секцию: Графические форматы">править</a>]</span> <span class="mw-headline">Графические форматы</span></h2>
<p>Итак, вот основные форматы хранения изображений, которые могут пригодиться:
</p>
<a name="JPG_.28JPEG.29"></a><h3><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85&amp;action=edit&amp;section=3" title="Править секцию: JPG (JPEG)">править</a>]</span> <span class="mw-headline">JPG (JPEG)</span></h3>
<p>Здесь применяется алгоритм сжатия с потерями, т. е. перекодированный в этот формат файл будет отличаться от оригинала (наверняка вы замечали на сильно сжатых фотографиях артефакты в виде "блочности" и "ряби" - это потому, что кодируются кусочки 8х8 пикселов). Поэтому, его стоит применять для рисунков с множеством деталей, фотографий и других прямоугольных изображений. Сжатие: в 6 раз (почти неотличим от оригинала), в 40 раз (приемлемое качество), в 150 раз (плохое качество). Имеются две разновидности: полноцветный (256 оттенков красного, зеленого и синего, RGB) и оттенки серого (256, Grayscale). Так что, если ваше изображение не цветное, лучше использовать второй вариант, т. к. он в 3 раза компактнее.
</p><p>Дополнительные ссылки:
</p>
<ul><li><a href="http://www.jpeg.org/jpeg/index.html" class="external text" title="http://www.jpeg.org/jpeg/index.html" rel="nofollow">JPEG.ORG</a>
</li><li><a href="http://www.faqs.org/faqs/jpeg-faq/" class="external text" title="http://www.faqs.org/faqs/jpeg-faq/" rel="nofollow">JPEG-FAQ (англ.)</a>
</li><li><a href="http://en.wikipedia.org/wiki/JPEG" class="external text" title="http://en.wikipedia.org/wiki/JPEG" rel="nofollow">JPEG - wikipedia (англ.)</a>
</li></ul>
<a name="PNG_.28Portable_Network_Graphics.29"></a><h3><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85&amp;action=edit&amp;section=4" title="Править секцию: PNG (Portable Network Graphics)">править</a>]</span> <span class="mw-headline">PNG (Portable Network Graphics)</span></h3>
<p>Здесь потери данных не происходит, но файл уменьшается, соответственно, не так значительно. Изображение может быть полноцветным (RGB) или с палитрой (от 2 до 256 цветов, каждый из которых также определяется интенсивностью красного, зеленого и синего в пределах от 0 до 255). Кроме того, есть возможно прицепить к изображению альфа-канал (карту, определяющую коэффициент прозрачности каждого пиксела изображения в диапазоне от 0 (полностью прозрачен) до 255 (полностью непрозрачен)). Если нет альфа-канала, то можно пометить один цвет, как "прозрачный". Хорошо сжимает изображения с большими одноцветными областями. Незаменим в тех случаях, когда малейшее изменение рисунка неприемлемо (это могут быть различные вспомогательные слои), либо где требуется альфа-канал (и для одного альфа-канала). Коэфициент сжатия лучше всегда выставлять на максимум.
Существует одна технология, реализованная в этом формате - т. н. интерлейсинг. Ее полезно применять для изображений, использующихся на сайтах, ведь они обычно грузятся достаточно длительное время. Обычные изображения грузятся так, будто опускают вниз закрывающую ширму. При интерлейсинге же, данные сохраняются таким образом, что уже при загрузке небольшой части файла изображения, формируется его грубое подобие (чтобы можно было понять, что изображено), по мере догрузки, на изображении проступают детали и, в конце концов, когда изображение загружается полностью, оно становится равным оригиналу.
</p><p>Дополнительные ссылки:
</p>
<ul><li><a href="http://libpng.org/pub/png/" class="external text" title="http://libpng.org/pub/png/" rel="nofollow">LibPNG</a>
</li><li><a href="http://en.wikipedia.org/wiki/PNG" class="external text" title="http://en.wikipedia.org/wiki/PNG" rel="nofollow">PNG - wikipedia (англ.)</a>
</li><li><a href="http://www.w3.org/TR/PNG/" class="external text" title="http://www.w3.org/TR/PNG/" rel="nofollow">Спецификация PNG</a>
</li></ul>
<a name="GIF_.28Graphics_Interchange_Format.29"></a><h3><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85&amp;action=edit&amp;section=5" title="Править секцию: GIF (Graphics Interchange Format)">править</a>]</span> <span class="mw-headline">GIF (Graphics Interchange Format)</span></h3>
<p>Только палитровый режим (с возможностью задания прозрачного цвета), зато есть возможность анимации. Процедуры интерлейсинга и сжатия устарели и уступают PNGшным. B языках Blitz нет стандартных процедур для загрузки изображений такого формата, но для сайтов он неплохо подходит, в частности, для вставки анимированных изображений. Дополнительные ссылки: 
</p>
<ul><li><a href="http://members.aol.com/royalef/gifabout.htm" class="external text" title="http://members.aol.com/royalef/gifabout.htm" rel="nofollow">О формате GIF (англ.)</a>
</li><li><a href="http://en.wikipedia.org/wiki/GIF" class="external text" title="http://en.wikipedia.org/wiki/GIF" rel="nofollow">GIF - wikipedia (англ.)</a>
</li></ul>
<p>А вот BMP и TGA лучше не использовать - изображение либо не сжимается вовсе, либо сжимается примитивным RLE-алгоритмом. Раньше TGA использовали из-за возможности вставить в файл альфа-канал, но теперь, когда и PNG обладает такой возможностью, TGA летит в топку.
</p><p>Для конверсии изображений хорошо подходит Adobe Photoshop, в котором есть очень полезный режим "Save for Web", где вы можете, регулируя параметры, сразу увидеть искажения изображения при конверсии и его размер в результате. Еще вариант - скачать <a href="http://faststone.org/" class="external text" title="http://faststone.org" rel="nofollow">Fast Stone Image Viewer</a> - бесплатный просмотровщик / конвертер изображений. Он позволяет перегонять изображения (и наборы изображений) во все разновидности JPG / PNG.
</p><p>Дополнительные материалы:
</p>
<ul><li><a href="http://en.wikipedia.org/wiki/Image_file_formats" class="external text" title="http://en.wikipedia.org/wiki/Image_file_formats" rel="nofollow">Форматы изображений - wikipedia (англ.)</a>
</li><li><a href="http://en.wikipedia.org/wiki/Comparison_of_graphics_file_formats" class="external text" title="http://en.wikipedia.org/wiki/Comparison_of_graphics_file_formats" rel="nofollow">Сравнение форматов изображений - wikipedia (англ.)</a>
</li></ul>
<a name=".D0.97.D0.B2.D1.83.D0.BA.D0.BE.D0.B2.D1.8B.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B"></a><h2><span class="editsection">[<a href="http://blitzetcetera.org/index.php?title=%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85&amp;action=edit&amp;section=6" title="Править секцию: Звуковые форматы">править</a>]</span> <span class="mw-headline">Звуковые форматы</span></h2>
<p>Формат WAV сразу отметается, как расточительно жрущий дисковое пространство (сжатия вообще нет или простейшее). Гораздо лучший вариант - алгоритм сжатия звука с потерями. Это OGG (большой плюс этого формата - в том, что использовать его можно совершенно бесплатно) или MP3, WMA (только для Blitz3D / BlitzPlus). Вы можете выбрать битрейт - это кол-во битов на секунду звука. Для игр вполне достаточно 128kbps (сжатие в 6 раз по сравнению с WAV-моно, музыка) и 64kbps (в 12 раз, речь). Для очень качественного звука - 320kbps (в 2.5 раза). Битрейт может быть и меняющимся (variable), это позволит добиться большего сжатия при большем качестве (комплексные участки сожмутся с высоким битрейтом, простые (например, тишина) - с низким). Стерео, скорей всего, будет излишним, частота - стандартная, 44100Hz.
</p><p>Бесплатные программы конвертации звуковых форматов лежат на сайте <a href="http://www.free-codecs.com/Software/Audio_Encoders.htm" class="external text" title="http://www.free-codecs.com/Software/Audio_Encoders.htm" rel="nofollow">Free-Codecs.com</a>.
</p><p>Дополнительная информация по формату OGG:
</p>
<ul><li><a href="http://www.vorbis.com/faq/" class="external text" title="http://www.vorbis.com/faq/" rel="nofollow">FAQ (англ.)</a>
</li><li><a href="http://xiph.org/ogg/doc/" class="external text" title="http://xiph.org/ogg/doc/" rel="nofollow">Документация (англ.)</a>
</li></ul>
<p>Кроме файлов, хранящих непосредственно, звуковую дорожку, существуют и т. н. музыкальные модули. Это файлы, где хранится информация, какие звуки, когда и в какой тональности проигрывать, какие инструменты использовать. Самый известный - формат MIDI(mid). Файлы этого формата очень немного "весят", а звучание, благодаря современным программным синтезаторам, встроенным в систему, получается очень неплохое, особенно классических произведений. Однако, "мидишность" все равно чувствуется за километр из-за ограниченного набора инструментов. Гораздо большую свободу предоставляют форматы "треккеров" - xm, it, s3m, umx и т. д. Эти файлы содержат звуковые дорожки (обычно короткие и замкнутые), которые проигрываются с разной частотой и добавлением всяких эффектов (можно, например, вставить дисторшн-гитару и барабанный ритм). В результате получаются очень "живые" и приятные на слух композиции. Так была написана музыка к Unreal, Deus Ex и многим другим играм. Размер этих файлов также не очень велик и его еще можно уменьшить, если преобразовать модуль в формат mo3 (со сжатием звуковых дорожек a la MP3), но он стандартными средствами Blitz не поддерживается. Много музыки в этих форматах лежит на сайте <a href="http://modarchive.org/" class="external text" title="http://modarchive.org" rel="nofollow">modarchive.org</a>.
</p>
<hr />
<p>Автор: <a href="http://blitzetcetera.org/index.php/%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA:Matt_Merkulov" title="Участник:Matt Merkulov">Матвей Меркулов</a> (E-mail: MattMerk@mail.ru, ICQ: 392-274-050)<br />
Благодарности: alcoSHoLiK, Diablo1909 за дополнения и комментарии к статье
</p>
<!-- Saved in parser cache with key db1:pcache:idhash:764-0!1!0!!ru!2 and timestamp 20071110040717 -->
<div class="printfooter">
Получено с <a href="ykf3i348.html">http://blitzetcetera.org/index.php/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85</a></div>
			<!-- end content -->			<div class="visualClear"></div>				</td>				<td class="rightside">				</td>			</tr>		</table>		</div>	</div>		</div>	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div></body>
<!-- Mirrored from localhost/index.php/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85 by HTTrack Website Copier/3.x [XR&CO'2007], Sat, 10 Nov 2007 05:16:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>