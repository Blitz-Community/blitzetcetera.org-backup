<html><head><link rel=stylesheet href="scaven.css" Type=Text/css><meta http-equiv=Content-Type content="text/html; charset=windows-1251"><title>Blitz3D Туториал</title></head><body id=t1><div id=t2><table id=t3> <tr id=t22> <td id=t23> <p id=t51>13. Первая 3Д игра. Часть 3 – внешний вид</p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Итак, движок разработан, что ещё делать программисту? Улучшать внешний вид! Всё таки игрок будет смотреть и оценивать игру «извне» - т.е. по тому, как она выглядит, и играется, а не по тому, каким образом там реализована проверка на столкновения </span><span id=t10><span id=t11>J</span></span><span id=t9>… Поэтому нельзя недооценивать некоторые мелочи, которые могут приукрасить вашу игру… что можно сделать сначала? Ну, во первых, я предлагаю всё разукрасить! (а то чёрно-белое всё как-то примитивно смотрится…) Делать-то для этого много не надо, а всё равно смотреться будет круче!</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Так, сначала разукрасим игрока зелёным (поставьте эту строчку после создания игрока):</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>EntityColor</span><span id=t64> </span><span id=t64>Player</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>255</span><span id=t63>,</span><span id=t65>0</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>…затем кубики красным (эту строчку нужно вставить в цикл создания кубиков):</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>EntityColor</span><span id=t64> Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t65>255</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>…и, наконец, закрасим цилиндр жёлтым…</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>EntityColor</span><span id=t63> </span><span id=t64>Target</span><span id=t63>,</span><span id=t65>255</span><span id=t63>,</span><span id=t65>215</span><span id=t63>,</span><span id=t65>0</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Во, теперь куда красочнее всё смотрится! Красный, жёлтый, зелёный… </span><span id=t9>CGA</span><span id=t9>, блин… А? Что такое </span><span id=t9>CGA</span><span id=t9> спрашиваете?.. да – так, молодость вспомнил… нет, это не светофор </span><span id=t10><span id=t11>J</span></span><span id=t9>…</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Если хотите, конечно, можете подставить свои цвета. Как выбрать себе цвет? Самый лёгкий способ – зайдите в </span><span id=t9>PaintBrush</span><span id=t9>, затем в меню Палитра-&gt;Изменить Палитру, и нажмите на кнопочку «Определить цвет», там такой спектр вылезет, и снизу цифры. Те что слева – как раз те, которые нужны </span><span id=t10><span id=t11>J</span></span><span id=t9>!</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Во-вторых. Есть такие мелочи, которые очень сильно улучшают внешний вид игры… это какой-нибудь вид, дополнительный выбор или ещё что-нибудь, что не очень сложно реализовать, но при этом сильно изменяет игру в лучшую сторону… Например, в моём проекте про Катапульту это была способность «следить» за снарядом…</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Так вот, сейчас предлагаю внести 2 изменения, во-первых камеру при её создании поставить чуть пониже, строчку </span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>PositionEntity </span><span id=t64>cam</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>60</span><span id=t63>,</span><span id=t65>0</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>…</span><span id=t9>заменить на</span><span id=t9></span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>PositionEntity</span><span id=t63> </span><span id=t64>cam</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>40</span><span id=t63>,</span><span id=t65>0</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>И вставить такую ма-а-аленькую строчку кода в главный цикл игры, которая правда, покажет, что игра всё-таки трёхмерная:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>PointEntity</span><span id=t65> </span><span id=t64>cam</span><span id=t63>,</span><span id=t64>Player</span><span id=t63> </span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Догадались, что она будет делать? Она будет следить за нашим шариком, находясь в одной точке над серединой! Это немного ухудшит вид, зато смотреться сама игра будет в 2 раза круче </span><span id=t10><span id=t11>J</span></span><span id=t9>… вот так какая-то строчка может сильно повлиять на целую игру!</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Вот, вроде как и оформили чуть-чуть.. ладно я тут ещё хотел кое-что добавить – стены, которые будут ограничивать область самой игры (а то раньше забыл добавить, а сейчас как бы и место как раз есть </span><span id=t10><span id=t11>J</span></span><span id=t9>).</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Чтобы особо не париться, сделаем их того же типа, что и кубики, более того, предлагаю сделать их из того же массива, что и кубики…</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Но, для этого нам надо добавить ещё 4 элемента массива, поэтому:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>Dim</span><span id=t62> </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>29</span><span id=t63>)</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>заменим на:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t48><span id=t62>Dim</span><span id=t62> </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>33</span><span id=t63>)</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Дальше создадим 4 кубика, которые у нас скоро станут стенами:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t27><span id=t62>For </span><span id=t64>i</span><span id=t63>=</span><span id=t65>30 </span><span id=t62>To </span><span id=t65>33</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>)=</span><span id=t62>CreateCube</span><span id=t63>()</span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>EntityColor </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t65>100</span><span id=t63>,</span><span id=t65>20</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>EntityType </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t64>TypeWalls</span></p> <p id=t48><span id=t62>Next</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Здесь мы создаём ещё 4 кубика, меняем цвет и задаём тип столкновения… ну, понятно, короче </span><span id=t10><span id=t11>J</span></span><span id=t9>…</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Теперь расставим их по местам, где они будут стоять:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>30</span><span id=t63>),-</span><span id=t65>50</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63></span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>31</span><span id=t63>),</span><span id=t65>50</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63></span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>32</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,-</span><span id=t65>50</span><span id=t63></span></p> <p id=t48><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>33</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>50</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Но, кубики-то так кубиками и останутся, поэтому мы должны их расширить! Можно использовать команду </span><span id=t43>ScaleEntity</span><span id=t9>, но здесь я предлагаю использовать новую команду – </span><span id=t43>FitMesh</span><span id=t9>! </span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Синтакс: </span><b><span id=t43>FitMesh</span><span id=t43> объект, </span></b><b><span id=t43>x</span><span id=t43>, </span></b><b><span id=t43>y</span><span id=t43>, </span></b><b><span id=t43>z</span><span id=t43>, ширина, высота, длина</span></b><span id=t9> – эта команда так трансформирует объект, и перемещает его вертексы, что он занимает ровно отведённый куб, задаваемый этими параметрами… очень полезная команда! Позволяет вам задать именно такой размер для модели, какой вы хотите, независимо от того, какой размер модели был до этого… </span><span id=t10><span id=t11>J</span></span><span id=t9>!</span></p> <p id=t8><span id=t9>Так, вот для примера, возьмём </span><span id=t43>Walls</span><span id=t43>(30)</span><span id=t9> – который находится слева от нашего игрока (в начале, во всяком случае </span><span id=t10><span id=t11>J</span></span><span id=t9>), что нам надо с ним сделать? Пусть в ширине будет 2, в высоту он будет от –1 до 2 (т.е. выше всех остальных наших объектов), и в длину – на всё поле + ещё немножко (т.к. кубики у нас расставляются от –40 до 40 – т.е. на дистанции 80, сделаем размер поля равным 100…) – т.е. от –50 до 50.</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Значит мы пишем: </span><span id=t43>FitMesh</span><span id=t43> –1,-1,-50,2,3,100</span><span id=t9> – не забудьте, что последние 3 цифры – не координаты, а размеры!</span></p> <p id=t8><span id=t9>А для </span><span id=t43>Walls</span><span id=t43>(33)</span><span id=t9> – который находится спереди, нам надо сделать ширину от –50 до 50, длину от –1 до 2, а длину<span id=t15>  </span>от –1 до 1!</span></p> <p id=t8><span id=t9>И для неё мы пишем: </span><span id=t43>FitMesh</span><span id=t43> –50,-1,-1,100,3,2</span><span id=t9></span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Так по аналогии все команды:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t27><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>30</span><span id=t63>),-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>50</span><span id=t63>,</span><span id=t65>2</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>100</span></p> <p id=t27><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>31</span><span id=t63>),-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>50</span><span id=t63>,</span><span id=t65>2</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>100</span></p> <p id=t27><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>32</span><span id=t63>),-</span><span id=t65>50</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,</span><span id=t65>100</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>2</span></p> <p id=t48><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>33</span><span id=t63>),-</span><span id=t65>50</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,</span><span id=t65>100</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>2</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Вот, вроде внешний вид и приведён в норму… на выставку она может не попрёт, но для первой игры очень даже неплохо! Зато я знаю что ваша вторая (ну не вторая, так третья!) – точно будет намного красочнее и интереснее! (Главное не забудьте мне прислать мне демку или ссылку на скриншоты </span><span id=t10><span id=t11>J</span></span><span id=t9>!)</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8><span id=t9>Весь</span><span id=t9> </span><span id=t9>код</span><span id=t9>:</span></p> <p id=t8><span id=t9>&nbsp;</span></p> <table id=t24> <tr id=t46> <td id=t47> <p id=t27><span id=t62>SeedRnd MilliSecs</span><span id=t63>()</span></p> <p id=t27><span id=t63>&nbsp;</span></p> <p id=t27><span id=t62>Graphics3D </span><span id=t65>640</span><span id=t63>,</span><span id=t65>480</span><span id=t63>,</span><span id=t65>16</span><span id=t63>,</span><span id=t65>1</span></p> <p id=t27><span id=t62>SetBuffer BackBuffer</span><span id=t63>()</span></p> <p id=t27><span id=t63>&nbsp;</span></p> <p id=t27><span id=t62>Const </span><span id=t64>TypePlayer</span><span id=t63>=</span><span id=t65>1</span><span id=t63>,</span><span id=t64>TypeWalls</span><span id=t63>=</span><span id=t65>2</span><span id=t63>,</span><span id=t64>TypeTarget</span><span id=t63>=</span><span id=t65>3</span></p> <p id=t27><span id=t62>Global </span><span id=t64>Speed</span><span id=t63>#=.</span><span id=t65>1</span><span id=t63>,</span><span id=t64>Score</span><span id=t63>=</span><span id=t65>0</span></p> <p id=t27><span id=t65>&nbsp;</span></p> <p id=t27><span id=t62>Global </span><span id=t64>Player</span><span id=t63>=</span><span id=t62>CreateSphere</span><span id=t63>()</span></p> <p id=t27><span id=t63>&nbsp;</span></p> <p id=t27><span id=t64>Plac</span><span id=t63>=</span><span id=t62>CreateCone</span><span id=t63>(</span><span id=t65>8</span><span id=t63>)</span></p> <p id=t27><span id=t62>RotateMesh </span><span id=t64>Plac</span><span id=t63>,-</span><span id=t65>90</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0 </span></p> <p id=t27><span id=t62>ScaleMesh </span><span id=t64>Plac</span><span id=t63>,</span><span id=t65>1</span><span id=t63>,</span><span id=t65>1</span><span id=t63>,</span><span id=t65>1</span><span id=t63>.</span><span id=t65>2</span></p> <p id=t27><span id=t62>PositionMesh </span><span id=t64>Plac</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>.</span><span id=t65>5</span></p> <p id=t27><span id=t62>AddMesh </span><span id=t64>Plac</span><span id=t63>,</span><span id=t64>Player</span></p> <p id=t27><span id=t62>EntityType </span><span id=t64>Player</span><span id=t63>, </span><span id=t64>TypePlayer</span></p> <p id=t27><span id=t62>EntityColor </span><span id=t64>Player</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>255</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65>&nbsp;</span></p> <p id=t27><span id=t62>FreeEntity </span><span id=t64>Plac</span></p> <p id=t27><span id=t64>&nbsp;</span></p> <p id=t27><span id=t64>&nbsp;</span></p> <p id=t27><span id=t62>Dim </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>33</span><span id=t63>)</span></p> <p id=t27><span id=t63>&nbsp;</span></p> <p id=t27><span id=t62>For </span><span id=t64>i</span><span id=t63>=</span><span id=t65>0 </span><span id=t62>To </span><span id=t65>29</span></p> <p id=t27><span id=t64><span id=t15> </span>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>)=</span><span id=t62>CreateCube</span><span id=t63>()</span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>Repeat<span id=t15>  </span></span></p> <p id=t27><span id=t62><span id=t15>  </span>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t62>Rnd</span><span id=t63>(-</span><span id=t65>40</span><span id=t63>,</span><span id=t65>40</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t62>Rnd</span><span id=t63>(-</span><span id=t65>40</span><span id=t63>,</span><span id=t65>40</span><span id=t63>)</span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>Until Abs</span><span id=t63>(</span><span id=t62>EntityX</span><span id=t63>(</span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>)))&gt;</span><span id=t65>10 </span><span id=t62>Or Abs</span><span id=t63>(</span><span id=t62>EntityZ</span><span id=t63>(</span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>)))&gt;</span><span id=t65>10</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>EntityType </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>), </span><span id=t64>TypeWalls</span></p> <p id=t27><span id=t64><span id=t15> </span></span><span id=t62>EntityColor </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t65>255</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t62>Next</span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62>For </span><span id=t64>i</span><span id=t63>=</span><span id=t65>30 </span><span id=t62>To </span><span id=t65>33</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>)=</span><span id=t62>CreateCube</span><span id=t63>()</span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>EntityColor </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t65>100</span><span id=t63>,</span><span id=t65>20</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>EntityType </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>),</span><span id=t64>TypeWalls</span></p> <p id=t27><span id=t62>Next</span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>30</span><span id=t63>),-</span><span id=t65>50</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63></span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>30</span><span id=t63>),-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>50</span><span id=t63>,</span><span id=t65>2</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>100</span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>31</span><span id=t63>),</span><span id=t65>50</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63></span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>31</span><span id=t63>),-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>50</span><span id=t63>,</span><span id=t65>2</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>100</span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>32</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,-</span><span id=t65>50</span><span id=t63></span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>32</span><span id=t63>),-</span><span id=t65>50</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,</span><span id=t65>100</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>2</span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>33</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>50</span><span id=t63></span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>FitMesh </span><span id=t64>Walls</span><span id=t63>(</span><span id=t65>33</span><span id=t63>),-</span><span id=t65>50</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,-</span><span id=t65>1</span><span id=t63>,</span><span id=t65>100</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>2</span></p> <p id=t27><span id=t65>&nbsp;</span></p> <p id=t27><span id=t64>&nbsp;</span></p> <p id=t27><span id=t64>Target</span><span id=t63>=</span><span id=t62>CreateCylinder</span><span id=t63>()</span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>Target</span><span id=t63>,</span><span id=t62>Rnd</span><span id=t63>(-</span><span id=t65>40</span><span id=t63>,</span><span id=t65>40</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t62>Rnd</span><span id=t63>(-</span><span id=t65>40</span><span id=t63>,</span><span id=t65>40</span><span id=t63>)</span></p> <p id=t27><span id=t62>EntityColor </span><span id=t64>Target</span><span id=t63>,</span><span id=t65>255</span><span id=t63>,</span><span id=t65>215</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65>&nbsp;</span></p> <p id=t27><span id=t62>EntityType </span><span id=t64>Target</span><span id=t63>,</span><span id=t64>TypeTarget</span></p> <p id=t27><span id=t64>&nbsp;</span></p> <p id=t27><span id=t64>cam</span><span id=t63>=</span><span id=t62>CreateCamera</span><span id=t63>()</span></p> <p id=t27><span id=t62>PositionEntity </span><span id=t64>cam</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>40</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t62>TurnEntity </span><span id=t64>cam</span><span id=t63>,</span><span id=t65>90</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65>&nbsp;</span></p> <p id=t27><span id=t64>lit</span><span id=t63>=</span><span id=t62>CreateLight</span><span id=t63>()</span></p> <p id=t27><span id=t62>TurnEntity </span><span id=t64>lit</span><span id=t63>,</span><span id=t65>70</span><span id=t63>,</span><span id=t65>70</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65>&nbsp;</span></p> <p id=t27><span id=t62>Collisions </span><span id=t64>TypePlayer</span><span id=t63>,</span><span id=t64>TypeWalls</span><span id=t63>,</span><span id=t65>2</span><span id=t63>,</span><span id=t65>2</span></p> <p id=t27><span id=t62>Collisions </span><span id=t64>TypePlayer</span><span id=t63>,</span><span id=t64>TypeTarget</span><span id=t63>,</span><span id=t65>2</span><span id=t63>,</span><span id=t65>2</span></p> <p id=t27><span id=t65><span id=t15> </span></span></p> <p id=t27><span id=t62>Repeat</span></p> <p id=t27><span id=t62><span id=t15> </span></span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62><span id=t15> </span>MoveEntity </span><span id=t64>Player</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t64>Speed</span><span id=t63>#</span></p> <p id=t27><span id=t63><span id=t15> </span></span><span id=t62>If KeyDown</span><span id=t63>(</span><span id=t65>203</span><span id=t63>) </span><span id=t62>TurnEntity </span><span id=t64>Player</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,</span><span id=t65>3</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>If KeyDown</span><span id=t63>(</span><span id=t65>205</span><span id=t63>) </span><span id=t62>TurnEntity </span><span id=t64>Player</span><span id=t63>,</span><span id=t65>0</span><span id=t63>,-</span><span id=t65>3</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65><span id=t15> </span></span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>PointEntity </span><span id=t64>cam</span><span id=t63>,</span><span id=t64>Player </span></p> <p id=t27><span id=t64>&nbsp;</span></p> <p id=t27><span id=t64><span id=t15> </span></span><span id=t62>If EntityCollided </span><span id=t63>(</span><span id=t64>Player</span><span id=t63>,</span><span id=t64>TypeTarget</span><span id=t63>)</span></p> <p id=t27><span id=t63><span id=t15>  </span></span><span id=t62>Repeat </span></p> <p id=t27><span id=t62><span id=t15>   </span></span><span id=t64>inter</span><span id=t63>=</span><span id=t62>False</span></p> <p id=t27><span id=t62><span id=t15>   </span>PositionEntity </span><span id=t64>Target</span><span id=t63>,</span><span id=t62>Rnd</span><span id=t63>(-</span><span id=t65>40</span><span id=t63>,</span><span id=t65>40</span><span id=t63>),</span><span id=t65>0</span><span id=t63>,</span><span id=t62>Rnd</span><span id=t63>(-</span><span id=t65>40</span><span id=t63>,</span><span id=t65>40</span><span id=t63>)</span></p> <p id=t27><span id=t63><span id=t15>   </span></span><span id=t62>For </span><span id=t64>i</span><span id=t63>=</span><span id=t65>0 </span><span id=t62>To </span><span id=t65>29</span><span id=t68></span></p> <p id=t27><span id=t65><span id=t15>    </span></span><span id=t62>If MeshesIntersect</span><span id=t63>(</span><span id=t64>Target</span><span id=t63>, </span><span id=t64>Walls</span><span id=t63>(</span><span id=t64>i</span><span id=t63>)) </span><span id=t64>inter</span><span id=t63>=</span><span id=t62>True</span></p> <p id=t27><span id=t62><span id=t15>   </span>Next</span></p> <p id=t27><span id=t62><span id=t15>  </span>Until </span><span id=t64>inter</span><span id=t63>=</span><span id=t62>False</span></p> <p id=t27><span id=t62><span id=t15>  </span>UpdateWorld</span></p> <p id=t27><span id=t62><span id=t15>  </span></span><span id=t64>Score</span><span id=t63>=</span><span id=t64>Score</span><span id=t63>+</span><span id=t65>1 </span></p> <p id=t27><span id=t65><span id=t15>  </span></span><span id=t64>Speed</span><span id=t63>=</span><span id=t64>Speed</span><span id=t63>+.</span><span id=t65>01</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>EndIf</span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62><span id=t15> </span>If EntityCollided </span><span id=t63>(</span><span id=t64>Player</span><span id=t63>,</span><span id=t64>TypeWalls</span><span id=t63>) </span><span id=t62>End</span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62><span id=t15> </span>UpdateWorld</span></p> <p id=t27><span id=t62><span id=t15> </span>RenderWorld</span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62><span id=t15> </span>Color </span><span id=t65>255</span><span id=t63>,</span><span id=t65>215</span><span id=t63>,</span><span id=t65>0</span></p> <p id=t27><span id=t65><span id=t15> </span></span><span id=t62>Text </span><span id=t65>320</span><span id=t63>,</span><span id=t65>10</span><span id=t63>,</span><span id=t66>&quot;Score : &quot;</span><span id=t63>+</span><span id=t64>Score</span><span id=t63>,</span><span id=t62>True</span><span id=t63>,</span><span id=t62>True</span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62><span id=t15> </span>Flip</span></p> <p id=t27><span id=t62>&nbsp;</span></p> <p id=t27><span id=t62>Until KeyHit</span><span id=t63>(</span><span id=t65>1</span><span id=t63>)</span></p> <p id=t27><span id=t63>&nbsp;</span></p> <p id=t48><span id=t62>End</span><span id=t33></span></p> </td> </tr> </table> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t8>&nbsp;<span id=t9></span></p> </td> <td id=t37> <p id=t8><span id=t9><span id=t15> </span></span><b><span id=t16>Оглавление:</span></b></p> <p id=t8><span id=t9>&nbsp;</span></p> <p id=t17><span id=t18>0.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_0.htm">Введение</a></span></p> <p id=t17><span id=t18>1.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_1.htm">В начале была Тьма</a></span></p> <p id=t17><span id=t18>2.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_2.htm">Есть ли жизнь в <span id=t20>DirectX</span></a></span></p> <p id=t17><span id=t18>3.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_3.htm">Свобода и Власть 3Д (0)</a></span></p> <p id=t17><span id=t18>4.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_4.htm">Свобода и Власть 3Д (1)</a></span></p> <p id=t17><span id=t18>5.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_5.htm">2Д в 3Д</a></span></p> <p id=t17><span id=t18>6.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_6.htm">Трёхмерный курсор</a></span></p> <p id=t17><span id=t18>7.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_7.htm">Родительская зависимость или Привязки</a></span></p> <p id=t17><span id=t18>8.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_8.htm">Фишки с привязками</a></span></p> <p id=t17><span id=t18>9.<span id=t19>&nbsp; </span></span><span id=t18><a href="Blitz_9.htm">Коллизион Детекшн или как устроен мир…</a></span></p> <p id=t21><span id=t18>10.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_10.htm">Первая 3Д игра. Часть 0 – основы движка</a></span></p> <p id=t21><span id=t18>11.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_11.htm">Первая 3Д игра. Часть 1 – разработка движка</a></span></p> <p id=t21><span id=t18>12.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_12.htm">Первая 3Д игра. Часть 2 – устранение багов</a></span></p> <p id=t21><span id=t18>13.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_13.htm">Первая 3Д игра. Часть 3 – внешний вид</a></span></p> <p id=t21><span id=t18>14.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_14.htm">Первая 3Д игра. Часть 4 – от массива к спискам</a></span></p> <p id=t21><span id=t18>15.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_15.htm">Первая 3Д игра. Часть 5 – оптимизация кода</a></span></p> <p id=t21><span id=t18>16.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_16.htm">Первая 3Д игра. Часть 6 – завершение</a></span></p> <p id=t21><span id=t18>17.<span id=t19>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span id=t18><a href="Blitz_17.htm">Выведение</a></span></p> <p id=t8><span id=t18>&nbsp;</span></p> <p id=t6><span id=t18>&nbsp;</span></p> <p id=t8>&nbsp;<span id=t18></span></p> </td> </tr></table><p id=t6><span id=t20>&nbsp;</span></p></div></body></html>