<HTML>
<HEAD>
  <STYLE TYPE="text/css">
  <!--
    A:visited {text-decoration: none; color="#0055FF"; font-weight: bold}
    A:active {text-decoration: underline; color="#0055FF"; font-weight: bold}
    A:link {text-decoration: none; color="#0055FF"; font-weight: bold}
    A:hover {text-decoration: underline; color: #ACACD7; font-weight: bold}
  -->  
  </STYLE>
  <TITLE>Modeling tutorial - Покрываем текстурой модель в 3D MAX</TITLE>
  <META NAME="Description" CONTENT="">
  <META NAME="Keywords" CONTENT="">
  <META HTTP-EQUIV="Content-type" CONTENT="text/html; Charset=Windows-1251">
  <META NAME="author" CONTENT="Stanislav Serov (yxo), E-Mail: neotropic@halflife.ru">
  <META NAME="copyright" CONTENT="R.M.C.">
</HEAD>
<BODY BGCOLOR="#4F4958"><FONT FACE="Arial">
<A NAME="up"></A>
<TABLE ALIGN="center" WIDTH="100%" CELLSPACING="0" CELLPADDING="4" BORDER="1" BORDERCOLOR="Silver" HEIGHT="100%">

<TD ALIGN="justify" VALIGN="top" BGCOLOR="Black" BORDERCOLOR="Silver">
<FONT SIZE="2" COLOR="White">
  <TABLE CELLSPACING="0" CELLPADDING="0" BORDER="1" WIDTH="100%" BORDERCOLOR="#BFD9DF">
  <TR><TD BGCOLOR="#BFD9DF" ALIGN="center"><FONT SIZE="2"><B>Modeling tutorial - Покрываем модель текстурой.</A></B></FONT></TD>
 </TR>
  </TABLE>
<BR>

<table width=100% border=0 align=center cellspacing=0 cellpadding=20>
<td width=100% >
<p align="center"><font size="3" color="#ACACD7"><strong>ОБТЯГИВАНИЕ МОДЕЛИ ТЕКСТУРОЙ В 3D MAX</strong></font></p><font size="2" color="#ACACD7">

Итак модель уже созданна, есть бошка, руки, ноги, хвосты, уши и тд..
Теперь пора обтянуть её текстурой.
<p align="center"><font size="3"><strong>ПОД-ГРУППЫ ВАШЕЙ МОДЕЛИ</strong></font></p>
Подгруппы или 'ID groups' подобны сгруппированным полигонам как в Quake2 текстуре. 
Вы назначаете подгруппы вашим полигонам и позже можете обтянуть их текстурой, 
таким же образом как в Quake когда вы брали определённую область текстуры из одной картинки и назначали их индивидуально
полигонам.

Выберите вашу сеть, и сократите стек 'stack' так, чтобы модель стала доступной для редактирования 'editable mesh'. 
Щёлкнув на вкладке модификатора:

<p align="center"><img src="modifiericon.gif"><p>

Найдите кнопку - символ стека с правой стороны: 

<p align="center"><img src="stackicon.gif"><p>

Щелкните на неё, и вы должны увидеть это окно:

<p align="center"><img src="collapsestack.gif"><p>

Щелкните на кнопку крах всего 'Collapse All' и затем 'ok'. Появится окно предупреждающее вас что процесс является необратимым. Щелкните "ok".
Активизируйте кнопку 'sub-object', и выберите 'face'. 

<p align="center"><img src="subobjectface.gif"><p>

Выберите поверхности, которые вы хотите назначить в первую подгруппу, индивидуально щелкая по каждой из них 
или описав вокруг них прямоугольник. Выбранные лица должны быть высвечены красным цветом. 

<p align="center"><img src="faceselect.gif"><p>

Начнём с груди. 

Чтобы теперь назначить подгруппу, прокрутите менюшку модификатора справой стороны пока не увидите надпись 'ID:' с белым полем для ввода чисел рядом:

<p align="center"><img src="idbox.gif"><p>

Поле может уже иметь номер 1. Независимо от того что там написано, напечатайте '1' (если это - еще не там) и жимите 'return'. Подгруппа которую вы выбрали - теперь является подгруппой 1. Повторите этоже со следующей группой (спиной, бошкой, руками, задницей и т. д.). 
На сей раз печатая в поле 'ID:' уже не '1' а '2', для следующей подгруппы '3' и т. д.

Некоторые советы:

Как обычно люди назначают подгруппы модели гуманоида: 
Грудь, спина, руки внешняя сторона, руки внутренная сторона, внешние участки ног, внутренние участки ног, лицо, голова левая часть, голова правая часть, ботинок боковые части, ботинок переднии части, подошва, ладони внутренная часть, ладони внешняя часть, передняя сторона шеи, задняя сторона шеи. 
Конешно вы можете делать любые подгруппы совершенно отличные от этих.
Все поверхности модели первоначально обозначенны подгруппой ID:1 по умолчанию. 
Так что даже если вы выбрали только грудь и назначили ему ID1, и затем выбрали группу ID1, 
вся модель будет выделенна. Чтобы обойти это, выделите всю модель и назначте ей ID скажем 60 или любой который вы не собираетесь использовать в будущем.
Как только целой модели назначена группа 60, вы можете 
приступать переназначать подгруппы 1, 2, 3 и т.д. 

Сохраните список номеров подгрупп, например:<br>
1 грудь<br>
2 спина <br>
3 внешняя часть ноги<br>

И т.д ... Это поможет позже при текстуировании модели. 

После того, как вы выделили и определили подгруппу, скройте её. 
Вы увидите кнопки скрыть 'hide' и  вернуть всё 'unhide all': 

<p align="center"><img src="hide.gif"><p>

Кнопка 'hide' скроет все выбранные поверхности в сети. Кнопка 'unhide all' вернёт все скрытые поверхности.
Это нужно для того чтобы определить каждую группу, скажем когда вы выделили часть поверхностей и
назначили ей  значение ID, скройте эту группу и если был случайно пропущен какойто треугольник, то он будет заметен. 
Обратите внимание что единственный способ вернуть поверхности после скрытия - эток кнопка вернуть всё 'unhide all'
которая вернёт все поверхности, что весьма неудобно если скрыто было очень много различных частей. Так что если вами были замечены какието ошибки после нажатия 'hide' то вместо вернуть всё нажмите просто 'undo' так будет удобней.


Теперь пора непосредственно затекстуировать модель, для этого вам понадобится уже готовая текстура.

<p align="center"><font size="3"><strong>MULTI-SUB OBJECT ТЕКСТУРЫ.</strong></font></p>

Итак вы нарисовали текстуру для вашей модели с количеством 
различных частей тела равным количеству подгрупп в модели. 
MULTI-SUB OBJECT - это совокупность текстур, представленных в одной текстуре. 
Обычно мы имеем одну текстуру которую можно назначить одному обьекту,
MULTI-SUB OBJECT же имеет много уровней, каждый уровень при этом может 
иметь собственные качества текстуры. Это значит что вы можете кождой нрани вашего обьекта
задать свою текстуру.
Создайте Multi-sub-object к текстуре вашей модели, вот так: 
Откройте окно материального редактора, нажав эту кнопку:

<p align="center"><img src="matedicon.gif"><p>

Выберите сферу текстуры в материальном редакторе. 
Далее нажмите 'create new' кнопку. 

<p align="center"><img src="getnewicon.gif"><p>

Вы увидите это окно: 

<p align="center"><img src="multisubselect.gif"><p>

Выберите "Multi-Sub-Object" в списке справа. 
Установите 'number of materials' такое же как и количество подгрупп в вашей модели. 

<p align="center"><img src="setnumber.gif"><p>

Скажем, Вы разделили сеть на двадцать подгрупп. 
Тогда установите значение 'number of materials' равное двадцати. 
Вы будете теперь иметь двадцать уровней на multi-sub-object текстуре. 
Уровни представлены вот такими строками: 

<p align="center"><img src="layerbar.gif"><p>

... вы увидите их, расположенных в окне друг за другом. По умолчанию, верхняя строка - 
текстура номер один (независимо от того, что там написанно на кнопке) и автоматически 
назначается на подгруппу 1. Следующая строка - уровень 2 и автоматически назначяется на 
подгруппу 2 на модели и так далее ... 
Напечатайте в первой строчке грудь 'chest' - это всего лиш название слоя, 
нужно для того чтобы следить за тем, к какой части тела этот уровень относится. 

<p align="center"><img src="typechest.gif"><p>

Теперь щелкните на кнопку с надписью Материал ... - 'Material...'. 
Содержимое окна изменится: 
Нажмите на кнопку 'Maps'. 

<p align="center"><img src="mapsbar.gif"><p>

Откроется панель карт: 

<p align="center"><img src="diffusebar.gif"><p>

Нажмите кнопку 'none' напротив надписи 'Diffuse' на панели карт. 
Выберите 'Bitmap' в списке. 

<p align="center"><img src="bitmapselect.gif"><p>

Возможно вы уже знакомы с этой панелью - это стандартные настройки 
растрового материала. 
Теперь щелкните длинную пустую кнопку ... 

<p align="center"><img src="blankbar.gif"><p>

... и загрузите растровое изображение которое имеет изображение груди 'chest'. 
(вы можете назначать различные растровые изображение на каждый уровень, 
что означает, что вы можете использовать много текстур для каждой части модели или же 
нарисовать различные участки тела в одной текстуре). 
Теперь щелкните вот на эту кнопку. 

<p align="center"><img src="rendercube.gif"><p>
Это сообщает 3D MAX'у показывать ли текстуру модели в области просмотра 
(область просмотра при этом должна быть в режиме smooth и highlights). 
В настройках каждого уровня текстуры имеется такая кнопка которая указывает 
показывать или нет текущий уровень. 
Нам это ненужно и поставим все уровни активными. 
Теперь жмём на кнопку с чёрной стрелкой направленной вверх: 

<p align="center"><img src="upicon.gif"><p>

вы вернётесь на панель карт. 
Щелкните на неё еще раз - вы перейдёте на верхний уровень. 
Теперь повторите всё также как и для первой подгруппы но теперь уже для подгруппы 2, 
напечатайте во второй строке внизу название подгруппы, загрузите файл текстуры ... 

Когда все уровни настроенны, пора назначить текстуру вашей модели, убедитесь что ваша модель выделенна 
и жмите на эту кнопку: 

<p align="center"><img src="applyicon.gif"><p>

Уровень 1 будет по автоматически применён к подгруппе 1, уровень 2 к подгруппе 2 и т. д. 

<p align="center"><font size="3"><strong>НАСТРОЙКА ТЕКСТУРЫ НА МОДЕЛЬ</strong></font></p>

Теперь вы должны проделать со всеми подгруппами следующие действия, применяя 'Edit Mesh' модификатор к поверхностям 
'face' при включенной кнопке sub-object, выбрать подгруппу с которой вы хотите работать, оставить 
sub-object включённой и применить UVW map, и использую UVW unwrap настроить поверхности на 
изображении кожи. 
Блин ничего не понятно. Далее подробней: <br>
<b>ШАГ 1 </b><table width=100% border=0 align=center cellspacing=0 cellpadding=20>
<td width=100% ><font size="2" color="#ACACD7">

Сначала, выбирете вашу модель и примените к ней модификатор 'Edit Mesh'. Теперь перейдите к редактированию поверхностей - sub-object 'face' 
и опуститесь к панели ID снова. 

<p align="center"><img src="idbox.gif"><p>

НЕ ПЕЧАТАЙТЕ ЧТО НИБУДЬ В ЭТОМ БЛОКЕ.
<br>
Вы увидите кнопку 'Select by ID', 
нажмите её и в середине экрана появится окно диалога: 

<p align="center"><img src="selectbyid.gif"><p>

Напечатайте '1' в поле для ввода (если там нету), и нажмите 'OK'. Subgroup1 теперь должна быть выделенна. 
Если это не так тогда чтото случилось с вашими назначениями подгрупп, 
и прийдётся назначить их снова прежде чем мы продолжем. </td>
</table>
<b>ШАГ 2</b> <table width=100% border=0 align=center cellspacing=0 cellpadding=20>
<td width=100% ><font size="2" color="#ACACD7">

УБЕДИТЕСЬ ЧТО КНОПКА SUB-OBJECT АКТИВИЗИРОВАНА (это очень важно), и примените 'UVW Map' модификатор. 
Теперь надо активизировать под-объектную 'sub-object' кнопку UVW карты и выравнить UVW карту. 
UVW обьект появится на экране ввиде коричневого прямоугольника. 

<p align="center"><img src="uvwmap.gif"><p>

Когда вы щелкаете на под-объектную кнопку, прямоугольник изменяет свой цвет на желтый с одним зеленым краем. 

<p align="center"><img src="gizmo.gif"><p>

Прямоугольник представляет собой изображение кожи (текстуры). Зеленый край представляет собой правую сторону вашего 
изображения кожи, а линия направленная вверх обозначает вершину изображения. 
Теперь мы должны вращать и перемещать прямоугольник (gizmo) так, чтобы он как можно ближе к вашей выбранной 
области насколько это возможно и так. Зеленый край и вертикальная линия помогут 
вам ориентировать в пространстве. Настраивать прямоугольник проще с помощью кнопок 'view align' и 'fit'. 

<p align="center"><img src="fitview.gif"><p>

Выберите область просмотра так чтобы она отображала ваши лица плоскими к вам, 
и щелкайте на кнопку 'View Align' и 'Fit'. 
Прямоугольник должен теперь быть автоматически поставленн в нужную позицию. Он может быть вверх 
тормашками. Если так, то выделите прямоугольник и прокрутите его на 180 градусов так чтобы линия торчащая из него 
встала в вертикальное положение. Теперь дезактивируйте под-объектную кнопку модификатора UVW MAP.</td>
</table>
<b>ШАГ 3 </b>
<table width=100% border=0 align=center cellspacing=0 cellpadding=20>
<td width=100% ><font size="2" color="#ACACD7">
Теперь откройте UVW разворачивать 'UVW Unwrap' модификатор. 
Если вы не прибавили кнопку 'UVW Unwrap' к вашим кнопкам модификаторов на панели (см. обучающий текст - Настраиваем Studio MAX), тогда вы должны щелкнув на кнопку 'More' наверху панели модификаторов 
в меню выбрать этот модификатор. Когда модификатор загрузится вы увидите большую кнопку 'Edit'. 

<p align="center"><img src="editbutn.gif"><p>

Щелкните 'EDIT', и появится новое окно в центре экрана. Это будет квадратное поле с вашими выбранными поверхностями в центре эго. 

<p align="center"><img src="unwrapwindow.gif"><p>

Вы теперь должны выбрать текстуру для группы над которой вы работаете. Нажмите на кнопку 'pick map'. 

<p align="center"><img src="pickmap.gif"><p>

Слева вы увидите список источников. Нажмите 'Mtl Editor', и справа появится список материаллов, 
вашей multi-sub-object текстуры. Выберите нужную, дважды щелкая на ней. 
В нашем примере мы решили, что грудь модели будет sub-group1. Скажем, мы работаем над sub-group1, 
тогда вы должны выбрать карту с изображением груди. Если вы используете только одно изображение кожу 
для полной модели, тогда просто выбирайте одну и таже текстуру. 
Теперь на панели редактора вы увидите изображение, которое загрузили.

<p align="center"><img src="unwrapskin.gif"><p>

Теперь надо упорядочить вершины на область текстуры с рисунком груди. Вы должны маштабировать и передвигать их вручную. 

<p align="center"><img src="arranged.gif"><p>

СОВЕТ: Выберите область просмотра 'perspective' и удостоверьтесь что 'smooth and highlights' включенны 
(щелкая правой кнопкой мыши на заголовке области просмотра можно включить этот режим). 
Теперь передвинте UVW unwrap окно так чтобы оно не мешалось и вы могли видеть переспективную область просмотра. 

<p align="center"><img src="smoothand.gif"><p>


Когда вы будете корректировать вершины в UVW unwrap окне, то в переспективной области просмотра кожа также будет корректироватся непосредственно на модели. 
</td>
</table>
Как только вы настроили вершины под изображение груди, закройте UVW Unwrap окно и примените снова модификатор 'edit mesh' и повторите все тоже что мы делали для subgroup2, теперь уже для subgroup2 и 3 и 4 и так далее .... 
Этот процесс повторяйте до потери сознания, пока модель не затекстурится полностью. 


</td>
</table>
</font>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="1" WIDTH="100%" BORDERCOLOR="#BFD9DF">
  <TR>
  <TD WIDTH="100%" ALIGN="center"><FONT SIZE="2" COLOR="White"><A HREF="../../tut.shtml">Назад</A></FONT></TD></TR>
  </TABLE>

</DIV>

</FONT>
</TD>
</TR>
</TABLE>

</BODY>
</HTML>